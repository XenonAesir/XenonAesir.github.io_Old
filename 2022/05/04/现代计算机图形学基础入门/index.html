<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="现代计算机图形学基础入门前言本课程将全面而系统地介绍现代计算机图形学的四大组成部分：  光栅化成像 几何表示 光的传播理论 动画与模拟  每个方面都会从基础原理出发讲解到实际应用，并介绍前沿的理论研究。通过本课程，你可以学习到计算机图形学背后的数学和物理知识，并锻炼实际的编程能力。 顾名思义，作为入门，本课程会尽可能的覆盖图形学的方方面面，把每一部分的基本概念都尽可能说清楚，让大家对计算机图形学有">
<meta property="og:type" content="article">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="现代计算机图形学基础入门前言本课程将全面而系统地介绍现代计算机图形学的四大组成部分：  光栅化成像 几何表示 光的传播理论 动画与模拟  每个方面都会从基础原理出发讲解到实际应用，并介绍前沿的理论研究。通过本课程，你可以学习到计算机图形学背后的数学和物理知识，并锻炼实际的编程能力。 顾名思义，作为入门，本课程会尽可能的覆盖图形学的方方面面，把每一部分的基本概念都尽可能说清楚，让大家对计算机图形学有">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220325173821455-16482011061211-164829642743660.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/resize,p_40.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/resize,p_40-164829642282757.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/resize,p_40-16482914041252-164829642035256.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/resize,p_40-164829641840654.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/20200328103919888-164829641656253.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/resize,p_40-164829187980413-164829641537652.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/resize,p_40-164829188384215-164829641378251.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/20200328104747524-164829641192150.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM4MDY1NTA5,size_16,color_FFFFFF,t_70-164829640933449.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/resize,p_80-164829640693048.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/20200328105001255-164829640012847.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/20200328105119383-164829639857445.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/20200328105227881-164829639693744.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/2020032811024963-164829639425343.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/20200328110426335-164829639234642.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/20200328111037655-164829638931041.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/20200328111131496-164829638717740.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/20200328111305835-164829638445239.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220326193219866-164829434192828-164829635248838.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/20200328115219700-164829633509835.png">
<meta property="og:image" content="g:/Graphics/GAMES/101/Notes/现代计算机图形学基础入门.assets/20200328115308303.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM4MDY1NTA5,size_16,color_FFFFFF,t_70-164829500636831-164829634076337.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/v2-30da233abacca39a4cf87c28ed8e3e75_720w-16484488964933.jpg">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220328164058196-16484568603951.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/v2-b2379690a91c749d08822b9e1a76fbdb_720w-16484572053383.jpg">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/v2-52b293df688294aa1d1ddbfc20428f38_720w.jpg">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220328165227730.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/4807bc905cbd74c10a470965347ee634e4ad6288.png@830w_156h_progressive.webp">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/075b33e61bccd180d215e201427cf6e9c766df4d.png@830w_531h_progressive.webp">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/eca7ffe6b328009deabbfbe6677532b0431d5043.png@830w_218h_progressive.webp">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/v2-9eb78358706fb90876fd2f6831d61454_720w.jpg">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220328173641763.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220328224546007.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/v2-04e5930ac6d82713fff7d610bcb4682e_720w.jpg">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/v2-2d702e8622fba68e4e3803237ec9e706_720w.jpg">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/v2-1bc88c0f6d01fdcdfe32ae3d51f585b4_720w.jpg">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220328232059501.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220328232202214.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220328232955940.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220328233026037.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220328233721789.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220328233753690.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220328233828242.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/v2-6fb3460df4352466c0a5e6df92190e87_720w.jpg">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220328234032478.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/v2-f7dfa75940aee675599d1ddbca73ed63_720w.jpg">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220329190351697.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220329190153612.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220328234655386.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220329183804050.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220329190734117.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220329192231788.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220329192448407.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220329192924128.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220329193030706.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220329192937413.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220329192755803.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220329194206955.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220329200751279.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220329200634160.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220329201100034.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220329202224544.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220330191600609.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220330191622753.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220330192718447.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220330193203407.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220330193815732.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220330194249398.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220330194259918.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220330195414513.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220330202058951.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220330202110849.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220330203204228.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220330205320937.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220330205336326.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220330205345971.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220330221911118.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220331170738583.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220331183833935.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220331185101874.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220331185345747.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220331191532805.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220331191909666.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220331191928769.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220331202436285.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220331203156092.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220331203351837.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220331203408085.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220331211337931.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220408220414052.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220408222953010.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220408224040510-16494288420381.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/v2-75d2bbbc2338013fa85ba87b54d0753b_720w.jpg">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/v2-f9d6487d26325965ac807035cbe9eb9d_720w.jpg">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/v2-f9b56bf3a1820ef8a6b6297092a956cf_720w.jpg">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/v2-e8049585b53b1b1ab71fe5a7067ffe09_720w.jpg">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/v2-679183b3783819c14b6916ce890f7d9e_720w.jpg">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220408233514763.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/v2-15a8b2c0a6e065e190603fdf63602d70_720w-16495066745994.jpg">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/v2-15a8b2c0a6e065e190603fdf63602d70_720w.jpg">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220409201944430.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/v2-23a1bcca580d90b36364a2c806a76447_720w.jpg">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220409212641921.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220409204906458.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/v2-4592bb9c2faa811358c0de63516538ae_720w.jpg">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220409212752867.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220409221250646.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220409221454183.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220409221625472.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/v2-ffc668d22944aad1bcacf433fdb6006b_720w.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220409223125946.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/v2-fc80f9816fcd5062fab423ce9c522c61_720w-164951450202610.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/v2-66ea893097bc286279d81b5a9de8a5dd_720w.jpg">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/v2-09bff39c471a14ef7dc0bdf7875ced6b_720w.jpg">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220410164534423.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220410164708469.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220410164921208.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220414093916042.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220414094341247.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/v2-a84f9a4ee21dbc176605d96975efe508_720w.jpg">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/v2-c3d76850d6966bf4f9b4f45da3a8f5e6_720w.jpg">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220414104228949.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220414104248431.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220414104301900.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220414104322896.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220414104341406.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220414104404672.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220414104418408.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220414104434830.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220414104502120.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220414104517442.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220414110049471.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220414111452671.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220414111906202.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220416213402319.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220416213420791.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220416213432052.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220416214704349.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220416214716021.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220417162814857.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220417162842978.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220417163333813.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220417163704806.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220417164503329.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220417164705549.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220417164755690.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220417165217030.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/v2-2463a18c2e63529619a3b61fb9e8be23_720w.jpg">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220417171422877.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220417172233706.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220417172508475.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220417194738870.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220417195022614.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220417195203404.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220417195747206.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220417200313392.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220417200937838.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220417201327199.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220417201704721.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220417201913151.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220417202102273.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220417211832069.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220417211908264.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220417212053942.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220417212147158.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220417212207111.png">
<meta property="og:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220417212609176.png">
<meta property="article:published_time" content="2022-05-04T10:58:31.036Z">
<meta property="article:modified_time" content="2022-04-20T00:19:39.884Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220325173821455-16482011061211-164829642743660.png">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.4.2"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-现代计算机图形学基础入门" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/" class="article-date">
  <time datetime="2022-05-04T10:58:31.036Z" itemprop="datePublished">2022-05-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="现代计算机图形学基础入门"><a href="#现代计算机图形学基础入门" class="headerlink" title="现代计算机图形学基础入门"></a>现代计算机图形学基础入门</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>本课程将全面而系统地介绍现代计算机图形学的四大组成部分：</p>
<ul>
<li><a href="#%E5%85%89%E6%A0%85%E5%8C%96%E6%88%90%E5%83%8F">光栅化成像</a></li>
<li><a href="#%E5%87%A0%E4%BD%95%E8%A1%A8%E7%A4%BA">几何表示</a></li>
<li><a href="#%E5%85%89%E7%9A%84%E4%BC%A0%E6%92%AD%E7%90%86%E8%AE%BA">光的传播理论</a></li>
<li><a href="#%E5%8A%A8%E7%94%BB%E4%B8%8E%E6%A8%A1%E6%8B%9F">动画与模拟</a></li>
</ul>
<p>每个方面都会从基础原理出发讲解到实际应用，并介绍前沿的理论研究。通过本课程，你可以学习到计算机图形学背后的数学和物理知识，并锻炼实际的编程能力。</p>
<p>顾名思义，作为入门，本课程会尽可能的覆盖图形学的方方面面，把每一部分的基本概念都尽可能说清楚，让大家对计算机图形学有一个完整的、自上而下的全局把握。全局的理解很重要，学完本课程后，你会了解到图形学不等于 OpenGL，不等于光线追踪，而是一套生成整个虚拟世界的方法。从本课程的标题，大家还可以看到“现代”二字，也就是说，这门课所要给大家介绍的都是现代化的知识，也都是现代图形学工业界需要的图形学基础。</p>
<p>本课程与其它图形学教程还有一个重要的区别，那就是本课程不会讲授 OpenGL，甚至不会提及这个概念。本课程所讲授的内容是图形学背后的原理，而不是如何使用一个特定的图形学 API。在学习完这门课的时候，你一定有能力自己使用 OpenGL 写实时渲染的程序。另外，本课程并不涉及计算机视觉、图像视频处理、深度学习，也不会介绍游戏引擎与三维建模软件的使用。</p>
<h2 id="链接相关"><a href="#链接相关" class="headerlink" title="链接相关"></a>链接相关</h2><h3 id="课程相关"><a href="#课程相关" class="headerlink" title="课程相关"></a>课程相关</h3><ul>
<li>课程链接：<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1X7411F744?spm_id_from=333.337.search-card.all.click">GAMES101-现代计算机图形学入门-闫令琪_哔哩哔哩_bilibili</a></li>
<li>课程主页：<a target="_blank" rel="noopener" href="https://sites.cs.ucsb.edu/~lingqi/teaching/games101.html">https://sites.cs.ucsb.edu/~lingqi/teaching/games101.html</a></li>
<li>作业链接：<a target="_blank" rel="noopener" href="http://games-cn.org/forums/topic/allhw/">http://games-cn.org/forums/topic/allhw/</a><ul>
<li>截止到2022年3月25日17:17:59该网页格式已崩坏，作业内容请在页面下部查看</li>
</ul>
</li>
</ul>
<h3 id="引用资料"><a href="#引用资料" class="headerlink" title="引用资料"></a>引用资料</h3><ul>
<li>课程笔记：<ul>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_38065509/category_9873936.html">(22条消息) 计算机图形学笔记_剑 来!的博客-CSDN博客</a></li>
<li><a target="_blank" rel="noopener" href="https://www.zhihu.com/column/c_1249465121615204352">计算机图形学系列笔记 - 知乎 (zhihu.com)</a></li>
</ul>
</li>
<li>作业答案（参考）：<ul>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/479874655">计算机图形学学习笔记 - 知乎 (zhihu.com)</a></li>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/levelly/category/1883198.html">计算机图形学 - 随笔分类 - levelly - 博客园 (cnblogs.com)</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_41765657/article/details/121865049">(22条消息) GAMES101:作业6_南酒猫的博客-CSDN博客_games101作业6</a></li>
</ul>
</li>
<li>环境搭建：<ul>
<li>[<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/153199835">工具]包管理工具Vcpkg 的使用 - 知乎 (zhihu.com)</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/mythma/article/details/102795111">(22条消息) vcpkg + CMake_力为的博客-CSDN博客_cmake vcpkg</a></li>
</ul>
</li>
</ul>
<h2 id="环境配置"><a href="#环境配置" class="headerlink" title="环境配置"></a>环境配置</h2><p>本课程作业需要使用C++编程完成，依赖库有：</p>
<ul>
<li>Eigen</li>
<li>OpenCV</li>
</ul>
<p>虽然课程有提供配置完全环境的虚拟机，但对于使用非虚拟机环境，建议使用VCPKG进行环境搭建，具体内容参考<a href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99">环境搭建</a>内容</p>
<p>使用VCPKG常用操作：</p>
<ul>
<li><p>命令提示符到目录</p>
<ul>
<li>盘符：</li>
<li>cd 文件夹目录</li>
</ul>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220325173821455-16482011061211-164829642743660.png" alt="image-20220325173821455"></p>
</li>
<li><p>VCPKG常用命令</p>
<ul>
<li><p>查看支持的库 VCPKG search</p>
</li>
<li><p>安装一个库 VCPKG install 库名:版本</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">注：可以用 eigen:x86-windows或eigen:x64-windows指定安装的版本，可以使用的版本还包括 </span><br><span class="line">x64-windows-static x64-windows x86-windows-static x86-windows.若不指定默认为32位；</span><br><span class="line">添加环境变量 `VCPKG_DEFAULT_TRIPLET=x64-windows` 可使默认集成位64位</span><br></pre></td></tr></table></figure></li>
<li><p>查看已安装的库 VCPKG list</p>
</li>
<li><p>移除已安装的库 VCPKG remove 库名</p>
</li>
<li><p>集成到全局 VCPKG integrate install</p>
</li>
</ul>
</li>
</ul>
<p>如果使用的是Visual Studio出现卡顿，<strong>请调整项目至Release x64</strong>以获得更好的性能</p>
<h2 id="光栅化成像"><a href="#光栅化成像" class="headerlink" title="光栅化成像"></a>光栅化成像</h2><h3 id="变换矩阵"><a href="#变换矩阵" class="headerlink" title="变换矩阵"></a>变换矩阵</h3><h4 id="线性变换"><a href="#线性变换" class="headerlink" title="线性变换"></a>线性变换</h4><ul>
<li>变换前是直线的，变换后依然是直线</li>
<li>直线比例保持不变</li>
<li>变换前是原点的，变换后依然是原点</li>
</ul>
<h5 id="2D线性变换"><a href="#2D线性变换" class="headerlink" title="2D线性变换"></a>2D线性变换</h5><p>变换矩阵 (Transformation Matrices) 在图形学中的重要性不用多说，一切物体的缩放，旋转，位移，都可以通过变换矩阵作用得到。同时在投影 (projection) 变换的时候也有很多应用，本文将会介绍一些简要的变换矩阵。</p>
<p>我们将如下图所示的简单矩阵乘法定义为对向量$(x, y)^T$的线性变换。</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/resize,p_40.png" alt="Alt"></p>
<p>以下所有的变换方式均为以<strong>坐标原点</strong>为中心，<strong>逆时针</strong>方向操作</p>
<h6 id="缩放"><a href="#缩放" class="headerlink" title="缩放"></a>缩放</h6><p>以坐标原点为基准点进行缩放操作</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/resize,p_40-164829642282757.png" alt="在这里插入图片描述"></p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/resize,p_40-16482914041252-164829642035256.png" alt="在这里插入图片描述"></p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/resize,p_40-164829641840654.png" alt="在这里插入图片描述"></p>
<h6 id="剪切"><a href="#剪切" class="headerlink" title="剪切"></a>剪切</h6><p>以坐标原点为固定点，将其拉伸</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/20200328103919888-164829641656253.png" alt="img"></p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/resize,p_40-164829187980413-164829641537652.png" alt="在这里插入图片描述"></p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/resize,p_40-164829188384215-164829641378251.png" alt="在这里插入图片描述"></p>
<h6 id="旋转"><a href="#旋转" class="headerlink" title="旋转"></a>旋转</h6><p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/20200328104747524-164829641192150.png" alt="img"></p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM4MDY1NTA5,size_16,color_FFFFFF,t_70-164829640933449.png" alt="在这里插入图片描述"></p>
<p>推导过程为</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/resize,p_80-164829640693048.png" alt="在这里插入图片描述"></p>
<p>在其中选一点$a$，记向量长度为$r$，其坐标为</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/20200328105001255-164829640012847.png" alt="在这里插入图片描述"></p>
<p>将其旋转过后的点$b$记为</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/20200328105119383-164829639857445.png" alt="在这里插入图片描述"></p>
<p>两者带入求解</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/20200328105227881-164829639693744.png" alt="img"></p>
<h6 id="绕任意点操作"><a href="#绕任意点操作" class="headerlink" title="绕任意点操作"></a>绕任意点操作</h6><p>上述中所有的矩阵操作都基于了坐标原点，如果我们希望绕任意一点进行操作可以遵循以下过程</p>
<ul>
<li>将图像以基准点平移到坐标原点</li>
<li>进行需要的变换</li>
<li>将图像以基准点平移回原点</li>
</ul>
<h5 id="3D线性变换"><a href="#3D线性变换" class="headerlink" title="3D线性变换"></a>3D线性变换</h5><p>与二维变化非常相似，大部分是仅仅是增加了Z轴的操作</p>
<h6 id="缩放-1"><a href="#缩放-1" class="headerlink" title="缩放"></a>缩放</h6><p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/2020032811024963-164829639425343.png" alt="img"></p>
<h6 id="剪切-1"><a href="#剪切-1" class="headerlink" title="剪切"></a>剪切</h6><p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/20200328110426335-164829639234642.png" alt="img"></p>
<h6 id="旋转-1"><a href="#旋转-1" class="headerlink" title="旋转"></a>旋转</h6><p>三维中的旋转提供了更多种的可能</p>
<p>在此使用<strong>右手坐标系</strong></p>
<ul>
<li>X：水平向右</li>
<li>Y：垂直向前</li>
<li>Z：垂直向上</li>
</ul>
<p>旋转时以大拇指作为轴，其余四指进行旋转，故可得到以下矩阵</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/20200328111037655-164829638931041.png" alt="img"></p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/20200328111131496-164829638717740.png" alt="img"></p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/20200328111305835-164829638445239.png" alt="img"></p>
<p>值得注意的是所有的旋转矩阵都是<strong>正交矩阵</strong>，则可知其逆矩阵与转置矩阵相同，几何意义为对于逆时针旋转30°的矩阵，其转置矩阵，即逆矩阵，则表示顺时针旋转30°</p>
<h6 id="绕任意轴操作"><a href="#绕任意轴操作" class="headerlink" title="绕任意轴操作"></a>绕任意轴操作</h6><p>思想与二维空间中一致</p>
<p>值得一提的是存在基于过坐标原点的任意轴旋转公式</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220326193219866-164829434192828-164829635248838.png" alt="image-20220326193219866"></p>
<h4 id="仿射变换"><a href="#仿射变换" class="headerlink" title="仿射变换"></a>仿射变换</h4><p>仿射变换”就是：“线性变换”+“平移”</p>
<ul>
<li>变换前是直线的，变换后依然是直线</li>
<li>直线比例保持不变</li>
</ul>
<p>少了原点保持不变这一条。</p>
<h5 id="位移"><a href="#位移" class="headerlink" title="位移"></a>位移</h5><p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/20200328115219700-164829633509835.png" alt="img"></p>
<p><img src="G:\Graphics\GAMES\101\Notes\现代计算机图形学基础入门.assets\20200328115308303.png" alt="img"></p>
<p>至此我们可以发现，线性变换需要四个元素来操作，而位移需要另外的两个元素，于是二维变化不能完全用二维矩阵描述完全，由此引入<strong>齐次坐标</strong>的概念</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM4MDY1NTA5,size_16,color_FFFFFF,t_70-164829500636831-164829634076337.png" alt="在这里插入图片描述"></p>
<p>在此之中，先做线性变换，后做位移</p>
<p>多出来的矩阵第三行中，前两位固定为0，<strong>第三位区分点与方向</strong></p>
<ul>
<li>1表示点</li>
<li>0表示方向</li>
</ul>
<p>方向的位移没有意义，方向始终不会变</p>
<p>并不意味着第三位只会出现这两种情况，但最终都会经过变换回归1或0</p>
<h4 id="作业内容"><a href="#作业内容" class="headerlink" title="作业内容"></a>作业内容</h4><h5 id="任务目标"><a href="#任务目标" class="headerlink" title="任务目标"></a>任务目标</h5><p>给定一个点 P=(2,1), 将该点绕原点先逆时针旋转 45◦，再平移 (1,2), 计算出变换后点的坐标（要求用齐次坐标进行计算）</p>
<h5 id="代码解释"><a href="#代码解释" class="headerlink" title="代码解释"></a>代码解释</h5><p>先线性变换（旋转），后平移，两者分开实现：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Eigen::Vector3f <span class="title">p</span><span class="params">(<span class="number">2.0f</span>, <span class="number">1.0f</span>, <span class="number">1.0f</span>)</span></span>; <span class="comment">//定义我们的p点 写成齐次坐标形式,P(2,1),1代表点,0代表向量</span></span><br><span class="line">Eigen::Vector3f result;</span><br><span class="line"><span class="comment">// 目标是先旋转后平移 所以我们在p的左边依次乘以旋转矩阵和平移矩阵</span></span><br><span class="line">Eigen::Matrix3f rotation;   <span class="comment">//定义旋转矩阵</span></span><br><span class="line">Eigen::Matrix3f transform;  <span class="comment">//定义平移矩阵</span></span><br><span class="line"><span class="type">float</span> theta = <span class="number">45.0</span> / <span class="number">180.0</span> * M_PI; <span class="comment">//转换成弧度数</span></span><br><span class="line">rotation &lt;&lt; <span class="built_in">cos</span>(theta), -<span class="built_in">sin</span>(theta), <span class="number">0</span>,</span><br><span class="line">    <span class="built_in">sin</span>(theta), <span class="built_in">cos</span>(theta), <span class="number">0</span>,</span><br><span class="line">    <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>;   <span class="comment">//旋转矩阵写成齐次坐标形式</span></span><br><span class="line">transform &lt;&lt; <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>,</span><br><span class="line">    <span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>,</span><br><span class="line">    <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>;  <span class="comment">// 平移矩阵</span></span><br><span class="line"></span><br><span class="line">result = transform * rotation * p;  <span class="comment">// 转换过程</span></span><br></pre></td></tr></table></figure>

<p>或者将两者结合到一起，使用一个矩阵完成操作：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//除上述方法以外可使用一个变换矩阵完成两步操作,称为仿射变换</span></span><br><span class="line">Eigen::Matrix3f affine;<span class="comment">//仿射变化矩阵</span></span><br><span class="line">affine &lt;&lt; <span class="built_in">cos</span>(theta), -<span class="built_in">sin</span>(theta), <span class="number">1</span>,</span><br><span class="line">    <span class="built_in">sin</span>(theta), <span class="built_in">cos</span>(theta), <span class="number">2</span>,</span><br><span class="line">    <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>;   <span class="comment">//仿射变换为一次线性变换后,再进行一次平移</span></span><br><span class="line"></span><br><span class="line">result = affine * p;  <span class="comment">// 转换过程</span></span><br></pre></td></tr></table></figure>

<h3 id="视图变换"><a href="#视图变换" class="headerlink" title="视图变换"></a>视图变换</h3><p>本节内容附加参考资料：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.bilibili.com/read/cv11967054">图形学随笔：MVP变换—视图变换 - 哔哩哔哩 (bilibili.com)</a></li>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/357440509">MVP 矩阵变换 - 知乎 (zhihu.com)</a></li>
</ul>
<p>我们可以这样来描述视图变换的任务：将虚拟世界中以（x,y,z)为坐标的物体变换到 以一个个像素位置(x,y) 来表示的屏幕坐标系之中(2维)，这确实是一个较为复杂的过程，但是整个过程可以被细分为如下几个步骤：</p>
<ul>
<li>模型变换<ul>
<li>这一步的目的是将虚拟世界中或者更具体点，游戏场景中的物体调整至他们应该在的位置</li>
</ul>
</li>
<li>摄像机变换<ul>
<li>在游戏中我们真正在乎的是摄像机(或者说眼睛)所看到的东西，也就是需要得到物体与摄像机的相对位置</li>
</ul>
</li>
<li>投影变换<ul>
<li>在摄像机变换之后，我们得到了所有可视范围内的物体相对于摄像机的相对位置坐标(x,y,z)，之后根据具体情况选择平行投影或是透视投影，将三维空间投影至标准二维平面([-1,1]^2)之上 （tips：这里的z并没有丢掉，为了之后的遮挡关系检测）</li>
</ul>
</li>
<li>视口变换<ul>
<li>将处于标准平面映射到屏幕分辨率范围之内，即[-1,1]^2 -&gt; [0,width]*[0,height]其中width和height指屏幕分辨率大小</li>
</ul>
</li>
</ul>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/v2-30da233abacca39a4cf87c28ed8e3e75_720w-16484488964933.jpg" alt="img"></p>
<p>值得一提的是，以上名词的英文名词较为混乱，简要关系如下：</p>
<ul>
<li><p><strong>视图变换（Viewing Transformation）</strong></p>
<ul>
<li><p><strong>模型变换(modeling transformation)</strong></p>
</li>
<li><p><strong>摄像机变换(camera transformation)/视角变换(view transformation)</strong></p>
</li>
<li><p><strong>投影变换(projection transformation)</strong></p>
</li>
<li><p><strong>视口变换(viewport transformation)</strong></p>
</li>
</ul>
</li>
</ul>
<p>于是模型变换(M)、视角变换(V)、投影变换(P)的统称为<strong>MVP变换</strong>，在此名词中视口变换将被孤立</p>
<p><strong>并且在此之后将会有越来越多的英文名词</strong></p>
<h4 id="模型变换-M"><a href="#模型变换-M" class="headerlink" title="模型变换 M"></a>模型变换 M</h4><p>关于模型变换其实在开头部分便已经讲清楚了，就是利用基础的变换矩阵将世界当中的物体调整至我们想要的地方(旋转，平移，缩放)。</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220328164058196-16484568603951.png" alt="image-20220328164058196"></p>
<p>[^M矩阵求法]: 按照 <strong>缩放——旋转——平移</strong> 的顺序进行矩阵变换，因为这种结果是我们需要的</p>
<h4 id="摄像机变换-V"><a href="#摄像机变换-V" class="headerlink" title="摄像机变换 V"></a>摄像机变换 V</h4><p>由于摄像机的变换是在世界空间中先旋转后平移得到的，所以需要先反向进行平移变换，再反向进行旋转变换。</p>
<p><strong>摄像机定义</strong>：视图变换需要对摄像机生成的视图有一个唯一的定义，摄像机定义包含三个要素：</p>
<ul>
<li><strong>位置</strong>，用向量 e 表示：显然，一个物体在空间中，肯定是需要一个坐标的；</li>
<li><strong>朝向</strong>，用向量 g 表示：有了位置后，摄像机不同的拍摄角度会生成不同的视图，所以还要定义一个朝向；</li>
<li><strong>向上的方向</strong>，用向量 t 表示：固定好位置与朝向之后，摄像机还是可以360°旋转的，不同的旋转角也会生成不同的视图，所以还需要定义一个向上的方向来描述摄像机的旋转。</li>
</ul>
<p>由此定义出相对摄像机的坐标系：</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/v2-b2379690a91c749d08822b9e1a76fbdb_720w-16484572053383.jpg" alt="img"></p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/v2-52b293df688294aa1d1ddbfc20428f38_720w.jpg" alt="img"></p>
<p> <strong>摄像机标准位置</strong>：如果摄像机和场景的模型，都一起以同一个方式运动，那生成的视图也是一样的，由于生成的视图依赖于摄像机的位置、朝向和其自身的旋转，这样场景中的模型和摄像机之间的相对运动关系就复杂起来了</p>
<p>为了简化处理，考虑将摄像机变换到一个约定俗成的位置，变换过程大致为</p>
<ul>
<li>先将摄像机平移至原点</li>
<li>旋转 g 轴到 -z 轴</li>
<li>再旋转 t 轴到 y 轴</li>
<li>最后将 g x t 旋转到 x 轴</li>
</ul>
<p>同时这个变换过程在场景中的所有模型也同步进行。约定摄像机标准位置如下：</p>
<ul>
<li><p>位置在原点，e(0,0,0)；</p>
</li>
<li><p>朝向坐标轴 -z 轴方向，g = -z；</p>
</li>
<li><p>向上的方向是 y 轴方向，t = y；</p>
</li>
<li><p>场景中模型的变换都围绕原点的摄像机进行； </p>
</li>
</ul>
<p><strong>总结得出，需要将物体与摄像机一同移动到坐标原点，再进行旋转操作使得摄像机的相对坐标与世界坐标重合</strong></p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220328165227730.png" alt="image-20220328165227730"></p>
<p>对于平移矩阵T容易得出，归为至原点即可</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/4807bc905cbd74c10a470965347ee634e4ad6288.png@830w_156h_progressive.webp" alt="img"></p>
<p>对于旋转矩阵R，可利用<strong>旋转矩阵是正交矩阵</strong>的性质，求出<strong>由世界坐标旋转至摄像机相对坐标的旋转矩阵</strong>后，<strong>转置</strong>后得到我们需要的旋转矩阵</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/075b33e61bccd180d215e201427cf6e9c766df4d.png@830w_531h_progressive.webp" alt="img"></p>
<p>由此可得出摄像机变换矩阵为</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/eca7ffe6b328009deabbfbe6677532b0431d5043.png@830w_218h_progressive.webp" alt="img"></p>
<h4 id="投影变换-P"><a href="#投影变换-P" class="headerlink" title="投影变换 P"></a>投影变换 P</h4><p>在经过摄像机变换之后得到的依然是三维空间中的顶点坐标，那么如何将其映射至二维空间坐标就交给投影变换完成了，在此分为<strong>正交（Orthographic）投影</strong>与<strong>透视（Perspective）投影</strong></p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/v2-9eb78358706fb90876fd2f6831d61454_720w.jpg" alt="img"></p>
<h5 id="正交投影-Perspective"><a href="#正交投影-Perspective" class="headerlink" title="正交投影 Perspective"></a>正交投影 Perspective</h5><p>设摄像机距离近裁剪平面的距离为$near$，距离远裁剪平面的距离为$far$，横纵比为$Aspect$，视锥体半高为$size$，则正交矩阵需要做的是</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220328173641763.png" alt="image-20220328173641763"></p>
<p>[^[-1, 1]是什么]: 这是每一项的界，这里是将一个物体压缩或者填充到一个中心点在世界坐标原点的立方体中去，这么做的目的是为了计算方便而已，后面会转变会原来的尺寸<br>[^为什么x需要纵横比来算出]: 少一个数字存储不是更好吗？这一点可能有许多种原因，例如显示器需要纵横比，或者仅仅是一个约定俗成的潜规则</p>
<p>具体实现如图所示，即<strong>先将物体平移至坐标原点，之后进行缩放满足要求</strong></p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220328224546007.png" alt="image-20220328224546007"></p>
<p>其中字母的含义为：</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/v2-04e5930ac6d82713fff7d610bcb4682e_720w.jpg" alt="img"></p>
<p>将两者结合可见到这种形式的正交投影矩阵</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/v2-2d702e8622fba68e4e3803237ec9e706_720w.jpg" alt="img"></p>
<h5 id="透视投影-Orthographic"><a href="#透视投影-Orthographic" class="headerlink" title="透视投影 Orthographic"></a>透视投影 Orthographic</h5><p>透视投影就是最类似人眼所看东西的方式，遵循近大远小，如果说正交投影都是水平光线，那么透视投影则显然不是了</p>
<p>对应的一点$(x, y, z)$投影后对应的坐标为$(x’, y’, z’)$</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/v2-1bc88c0f6d01fdcdfe32ae3d51f585b4_720w.jpg" alt="img"></p>
<p>于是一个点经过了这样的一个变换过程被投影到了屏幕</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220328232059501.png" alt="image-20220328232059501"></p>
<p>所以这个矩阵应该满足</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220328232202214.png" alt="image-20220328232202214"></p>
<p>为什么第三列一直未知呢，因为这样的平面分析中，本没有Z的坐标信息，但我们可以推导确定出来</p>
<p>透视投影有两个性质：</p>
<ul>
<li>近裁剪平面上的点不会变化</li>
<li>远裁剪平面的点Z轴信息不会变化</li>
</ul>
<p>所以不妨设第三行为$(0,0,A,B)$利用两点性质分别代入远近平面的任意两点就可以列出两个等式</p>
<p><strong>近裁剪平面上的点不会变化</strong></p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220328232955940.png" alt="image-20220328232955940"></p>
<p>则可知</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220328233026037.png" alt="image-20220328233026037"></p>
<p>将其化为多项式即</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220328233721789.png" alt="image-20220328233721789"></p>
<p><strong>远裁剪平面的点Z轴信息不会变化</strong></p>
<p>同理可得出</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220328233753690.png" alt="image-20220328233753690"></p>
<p>二者联立解出</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220328233828242.png" alt="image-20220328233828242"></p>
<p>所以透视投影的变化矩阵为</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/v2-6fb3460df4352466c0a5e6df92190e87_720w.jpg" alt="img"></p>
<p>当然这不是完全的透视投影，还需要将其重新正交投影成标准小立方体，故透视投影变化定义为</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220328234032478.png" alt="image-20220328234032478"></p>
<p>总和在一起为</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/v2-f7dfa75940aee675599d1ddbca73ed63_720w.jpg" alt="img"></p>
<h4 id="视口变化-Vp"><a href="#视口变化-Vp" class="headerlink" title="视口变化 Vp"></a>视口变化 Vp</h4><p>上一节中一个物体经过了<strong>MVP变换</strong>后已经被压缩成了一个正则化立方体（Canonical Cube），现在我们需要把它显示到<strong>屏幕</strong>上了</p>
<p>屏幕：</p>
<ul>
<li>像素的集合</li>
<li>分辨率即是像素的数量</li>
<li>典型的光栅化显示载体</li>
</ul>
<p>像素：</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220329190351697.png" alt="image-20220329190351697"></p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220329190153612.png" alt="image-20220329190153612"></p>
<p>[^蓝色的像素]: 并不是指将Canonical Cube单独显示在那一点，仅仅是用了同一张图</p>
<p>这一步十分简单，仅仅是把得到的正则化立方体重新缩放回需要的尺寸</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220328234655386.png" alt="image-20220328234655386"></p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220329183804050.png" alt="image-20220329183804050"></p>
<h4 id="作业内容-1"><a href="#作业内容-1" class="headerlink" title="作业内容"></a>作业内容</h4><h5 id="任务目标-1"><a href="#任务目标-1" class="headerlink" title="任务目标"></a>任务目标</h5><p>本次作业的任务是填写一个旋转矩阵和一个透视投影矩阵。给定三维下三个点 v0(2.0, 0.0, −2.0), v1(0.0, 2.0, −2.0), v2(−2.0, 0.0, −2.0), 你需要将这三个点的坐标变换为屏幕坐标并在屏幕上绘制出对应的线框三角形 (在代码框架中，我们已经提供了 draw_triangle 函数，所以你只需要去构建变换矩阵即可)。</p>
<p>以下是你需要在 main.cpp 中修改的函数：</p>
<p><code>Eigen::Matrix4f get_model_matrix(float rotation_angle)</code></p>
<p>逐个元素地构建模型变换矩阵并返回该矩阵。在此函数中，你只需要实现三维中绕 z 轴旋转的变换矩阵，而不用处理平移与缩放。</p>
<p><code>Eigen::Matrix4f get_projection_matrix(float eye_fov, float aspect_ratio, float zNear, float zFar)</code></p>
<p>使用给定的参数逐个元素地构建透视投影矩阵并返回该矩阵。<br><code>[Optional] main()</code></p>
<p>自行补充你所需的其他操作。</p>
<p>提高部分：</p>
<p><code>Eigen::Matrix4f get_rotation(Vector3f axis, float angle)</code></p>
<p>在此之中给出按<strong>过原点的任意轴</strong>旋转的矩阵（罗德里格斯公式）</p>
<h5 id="代码解释-1"><a href="#代码解释-1" class="headerlink" title="代码解释"></a>代码解释</h5><p>模型变换，以Z轴旋转</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Eigen::Matrix4f <span class="title">get_model_matrix</span><span class="params">(<span class="type">float</span> rotation_angle)</span><span class="comment">//模型变换(以z轴旋转)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Eigen::Matrix4f model = Eigen::Matrix4f::<span class="built_in">Identity</span>();<span class="comment">//单位矩阵初始化// <span class="doctag">TODO:</span> Implement this function</span></span><br><span class="line">    <span class="comment">// Create the model matrix for rotating the triangle around the Z axis.</span></span><br><span class="line">    <span class="comment">// Then return it.</span></span><br><span class="line"></span><br><span class="line">    <span class="type">float</span> radian = rotation_angle / <span class="number">180.0</span> * MY_PI;<span class="comment">//转换为弧度制</span></span><br><span class="line"></span><br><span class="line">    Eigen::Matrix4f translate;<span class="comment">//以z轴旋转</span></span><br><span class="line">    translate &lt;&lt; </span><br><span class="line">        <span class="built_in">cos</span>(radian), -<span class="built_in">sin</span>(radian), <span class="number">0</span>, <span class="number">0</span>,</span><br><span class="line">        <span class="built_in">sin</span>(radian), <span class="built_in">cos</span>(radian), <span class="number">0</span>, <span class="number">0</span>,</span><br><span class="line">        <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>,</span><br><span class="line">        <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    model = translate * model;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> model;</span><br><span class="line">&#125;`</span><br></pre></td></tr></table></figure>
<p>透视投影变换矩阵</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Eigen::Matrix4f <span class="title">get_projection_matrix</span><span class="params">(<span class="type">float</span> eye_fov, <span class="type">float</span> aspect_ratio,<span class="type">float</span> zNear, <span class="type">float</span> zFar)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// Students will implement this functionEigen::Matrix4f projection = Eigen::Matrix4f::Identity();//单位矩阵初始化</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> Implement this function</span></span><br><span class="line">    <span class="comment">// Create the projection matrix for the given parameters.</span></span><br><span class="line">    <span class="comment">// Then return it.</span></span><br><span class="line"></span><br><span class="line">    Eigen::Matrix4f persp2ortho;<span class="comment">//视锥体结构正则化矩阵</span></span><br><span class="line">    persp2ortho &lt;&lt;</span><br><span class="line">        zNear, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>,</span><br><span class="line">        <span class="number">0</span>, zNear, <span class="number">0</span>, <span class="number">0</span>,</span><br><span class="line">        <span class="number">0</span>, <span class="number">0</span>, zNear + zFar, -zNear * zFar,</span><br><span class="line">        <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="type">float</span> halfView = eye_fov * MY_PI / <span class="number">180.0</span> / <span class="number">2</span>;<span class="comment">//半视界弧度数</span></span><br><span class="line">    <span class="type">float</span> top = zNear * <span class="built_in">tan</span>(halfView);<span class="comment">//正则化体顶面</span></span><br><span class="line">    <span class="type">float</span> bottom = -top;</span><br><span class="line">    <span class="type">float</span> right = top * aspect_ratio;<span class="comment">//宽高比得出左右</span></span><br><span class="line">    <span class="type">float</span> left = -right;</span><br><span class="line"></span><br><span class="line">    Eigen::Matrix4f orthoTrans;<span class="comment">//正交投影中坐标正则化</span></span><br><span class="line">    orthoTrans &lt;&lt;</span><br><span class="line">        <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, -(left + right) / <span class="number">2</span>,</span><br><span class="line">        <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, -(top + bottom) / <span class="number">2</span>,</span><br><span class="line">        <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, -(zNear + zFar) / <span class="number">2</span>,</span><br><span class="line">        <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    Eigen::Matrix4f orthoScale;<span class="comment">//正交投影中比例正则化</span></span><br><span class="line">    orthoScale &lt;&lt;</span><br><span class="line">        <span class="number">2</span> / (right - left), <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>,</span><br><span class="line">        <span class="number">0</span>, <span class="number">2</span> / (top - bottom), <span class="number">0</span>, <span class="number">0</span>,</span><br><span class="line">        <span class="number">0</span>, <span class="number">0</span>, <span class="number">2</span> / (zNear - zFar), <span class="number">0</span>,</span><br><span class="line">        <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    Eigen::Matrix4f orthoMatrix = orthoScale * orthoTrans;<span class="comment">//正交投影</span></span><br><span class="line"></span><br><span class="line">    projection = orthoMatrix * persp2ortho;<span class="comment">//透视投影</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> projection;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>提高部分</p>
<pre><code>Eigen::Matrix4f get_rotation(Vector3f axis, float angle)
&#123;
    Matrix4f model = Matrix4f::Identity();
    Matrix4f I = Matrix4f::Identity();
    float radian = angle / 180.0 * MY_PI;//转换为弧度制
    Vector4f axis_4f;
    axis_4f &lt;&lt; axis[0], axis[1], axis[2], 0;
    Matrix4f N;
    N &lt;&lt;
        0, -axis.row(3), axis.row(2), 0,
        axis.row(3), 0, -axis.row(0), 0,
        -axis.row(2), axis.row(0), 0, 0,
        0, 0, 0, 0;
    model = cos(radian) * I + (1 - cos(radian)) * axis_4f * axis_4f.transpose() + sin(radian) * N;
    model(3, 3) = 1;
    return model;
&#125;
</code></pre>
<h3 id="光栅化"><a href="#光栅化" class="headerlink" title="光栅化"></a>光栅化</h3><p>本节内容附加资料：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/144330664">计算机图形学三：直线光栅化的数值微分算法,中点Brensenham算法和三角形的光栅化 - 知乎 (zhihu.com)</a></li>
</ul>
<p>在进入具体的直线光栅化以及三角形光栅化算法之前，我们首先需要知道光栅化是一个什么样的过程。</p>
<p><strong>简单来说光栅化的目的就是将想要展现的物体给真正现实到屏幕上的过程</strong>，因为我们的物体其实都是一个个顶点数据来表示的，如何将<strong>这些蕴含几何信息的数据转化为屏幕上的像素点</strong>就是光栅化所考虑的东西。</p>
<p>比如说一条直线，究竟该用哪些像素点去逼近它，一个三角形，又用哪些像素集合表示它，这都是光栅化的过程。</p>
<p>在上一节中物体已经被映射到了屏幕上，那么屏幕是如何显示出来的呢</p>
<h4 id="三角形的光栅化"><a href="#三角形的光栅化" class="headerlink" title="三角形的光栅化"></a>三角形的光栅化</h4><p>为什么不是四边形五边形的光栅化，偏偏要谈三角形呢，因为三角形是最基本的多边形，大部分的模型都是用一个个三角形面表示，且任意的其它多边形其实都可以转化成多个三角形的形式，因此三角形的光栅化可以说是图形学中最基础的部分了。</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220329190734117.png" alt="image-20220329190734117"></p>
<p>那么三角形会在屏幕上被显示成什么呢</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220329192231788.png" alt="image-20220329192231788"></p>
<h5 id="离散化三角形"><a href="#离散化三角形" class="headerlink" title="离散化三角形"></a>离散化三角形</h5><p>做到这一步我们需要<strong>采样</strong></p>
<p><strong>请注意，采样的概念在接下来的文章中将会出现多次</strong></p>
<p>概念化解释：取样也叫采样，是把连续的模拟量用一个个离散的点来表示。将时间轴上连续的信号每隔一定的时间间隔抽取出一个信号的幅度样本，使其成为时间上离散的脉冲序列。</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220329192448407.png" alt="image-20220329192448407"></p>
<p>如果我们将各个像素的中心点是否在三角形中作为唯一的判定标准，那么三角形将会被这样显示</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220329192924128.png" alt="image-20220329192924128"></p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220329193030706.png" alt="image-20220329193030706"></p>
<p>对应的伪代码如下</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220329192937413.png" alt="image-20220329192937413"></p>
<p>经过这样的简单采样，三角形将会被这样显示出来</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220329192755803.png" alt="image-20220329192755803"></p>
<h5 id="内与外"><a href="#内与外" class="headerlink" title="内与外"></a>内与外</h5><p>上面提到的采样是针对整个屏幕空间进行的，其中有一个函数inside(…)负责返回像素判定点是否在三角形内，我们该如何实现它呢</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220329194206955.png" alt="image-20220329194206955"></p>
<p>例如在这幅图中，该如何判断任意一点$Q$是否在三角形$P_0P_1P_2$之内呢</p>
<p>利用<strong>叉乘的性质</strong>，如果满足</p>
<ul>
<li>$P_0P_1 × P_0Q$</li>
<li>$P_1P_2 × P_1Q$</li>
<li>$P_2P_0 × P_2Q$</li>
</ul>
<p>以上三个多项式结果同号，则点$Q$在三角形$P_0P_1P_2$内，否则不在</p>
<h5 id="边界情况"><a href="#边界情况" class="headerlink" title="边界情况"></a>边界情况</h5><p>如果空间中有多个三角形，而一个像素采样点恰巧在这两个三角形的边界处，那该如何判定呢</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220329200751279.png" alt="image-20220329200751279"></p>
<p>对于这种情况需要自己进行判断，并没有统一标准，我们需要知道图形学的宗旨：<strong>看起来真实就可以</strong></p>
<h5 id="优化方法"><a href="#优化方法" class="headerlink" title="优化方法"></a>优化方法</h5><p>因此自然的，只需要遍历每一个点就可以得出三角形的光栅化结果了，当然我们还可以进一步的进行优化，因为显然并没有必要去测试屏幕中的每一个点，一个三角形面可能只占屏幕很小的部分，可以利用一个包围盒（bounding box）包围住想要测试的三角形，只对该包围盒内的点进行采样测试</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220329200634160.png" alt="image-20220329200634160"></p>
<p>除了包围盒外还有多种优化方法，例如在下面这幅图中，找到第一个判定成功的像素点后，直接进行后续同行的判定</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220329201100034.png" alt="image-20220329201100034"></p>
<p>不同的方法适用于不同的情况，请灵活使用</p>
<h4 id="走样与反走样"><a href="#走样与反走样" class="headerlink" title="走样与反走样"></a>走样与反走样</h4><p>如果我们就此结束，将上一节中采样得到的离散化三角形显示出来的话，会是这种情况</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220329202224544.png" alt="image-20220329202224544"></p>
<p>发生这种不真实的，我们不想要的现象被称为<strong>走样</strong>，走样产生的原因是<strong>采样不足</strong>，即采样量变化的过快，而采样速率跟不上，这里出现了多个名词，我们将会一一解释</p>
<h5 id="走样-Aliasing"><a href="#走样-Aliasing" class="headerlink" title="走样 Aliasing"></a>走样 Aliasing</h5><p>一张图片被放大会出现锯齿、拍摄电脑屏幕会出现奇怪的波纹、快速转动的车轮会看起来像是在倒转。这些现象都可以被称为“走样”，产生的原因即是“采样”不足。</p>
<p>以上提到的三种情况分别对应以下名词：锯齿、摩尔纹以及车轮效应。</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220330191600609.png" alt="image-20220330191600609"></p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220330191622753.png" alt="image-20220330191622753"></p>
<p>其中锯齿与摩尔纹是屏幕在空间上的采样不足，而发生在现实中的倒转车轮效果则是大脑对光线的时间的采样不足。</p>
<h5 id="采样-Sample"><a href="#采样-Sample" class="headerlink" title="采样 Sample"></a>采样 Sample</h5><p>采样又名抽样，就像检测工厂中产品合格率使用的抽样调查一样</p>
<p><strong>采样在信号处理上有更多的含义，在这里不过多叙述，仅仅介绍一些基础概念</strong></p>
<p>上文已经提过，出现走样的原因是<strong>采样量变化的过快，而采样速率跟不上</strong>，如图所示</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220330192718447.png" alt="image-20220330192718447"></p>
<p>使用同样的采样速率，不同频率的函数采样后的效果不同，可以观察到频率高的失真度越大</p>
<p>在更极端一点的情况下，两种截然不同的信号在一种采样方式下，可能会得到完全相同的结果</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220330193203407.png" alt="image-20220330193203407"></p>
<h6 id="滤波-Filtering"><a href="#滤波-Filtering" class="headerlink" title="滤波 Filtering"></a>滤波 Filtering</h6><p>首先我们来看一下，一张图片经过<strong>傅里叶变换</strong>后从时域转变为频域的效果</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220330193815732.png" alt="image-20220330193815732"></p>
<p>右侧这张图像的含义是</p>
<ul>
<li>中心点为低频信号，四周为高频信号</li>
<li>十字效果产生的原因是图像非四方连续，导致信号的突变</li>
</ul>
<p>如果你还记得之前提到的内容的话，你就能知道这里的低频与高频的含义</p>
<ul>
<li>低频信号指颜色变换程度较小的地方</li>
<li>高频信号值颜色变换程度较大的地方</li>
</ul>
<p>那么如果可以对图像的信号进行处理以后，再使用逆傅里叶变换逆向回图像会产生什么效果呢</p>
<p><strong>滤波</strong>：将信号中特定波段频率滤除的操作</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220330194249398.png" alt="image-20220330194249398"></p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220330194259918.png" alt="image-20220330194259918"></p>
<p>当然还可以对特定频段的信号进行过滤，产生出介于两者之间的效果</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220330195414513.png" alt="image-20220330195414513"></p>
<h6 id="卷积-Convolution"><a href="#卷积-Convolution" class="headerlink" title="卷积 Convolution"></a>卷积 Convolution</h6><p><strong>这里的卷积是图形学上简化版本的卷积</strong></p>
<p>例如在如下的操作中</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220330202058951.png" alt="image-20220330202058951"></p>
<p>在Result中计算的结果，是Signal中的值经过Filter（卷积核/滤波器）对周围值按权取值平均计算出的结果</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220330202110849.png" alt="image-20220330202110849"></p>
<p>并依次往下进行，直至计算完Signal中的所有值</p>
<p>卷积有如下定理</p>
<p><strong>在时域中的卷积，等于在频域中的乘积</strong></p>
<p><strong>在时域中的乘积，等于在频域中的卷积</strong></p>
<p>由此在应用卷积时有以下两种路线</p>
<p>一：</p>
<ul>
<li>在时域中使用卷积滤波</li>
</ul>
<p>二：</p>
<ul>
<li>使用傅里叶变换从时域转换为频域</li>
<li>点乘由傅里叶变换来的卷积核</li>
<li>使用逆傅里叶变换从频域转换为时域</li>
</ul>
<p>下图解释了这一定理，两种路线可以得到相同的效果</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220330203204228.png" alt="image-20220330203204228"></p>
<h6 id="滤波器-Filter"><a href="#滤波器-Filter" class="headerlink" title="滤波器 Filter"></a>滤波器 Filter</h6><p>滤波器有许多种，在此仅仅介绍一种盒状滤波器（Box Filter）</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220330205320937.png" alt="image-20220330205320937"></p>
<p>将这个滤波器表示为图像如下</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220330205336326.png" alt="image-20220330205336326"></p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220330205345971.png" alt="image-20220330205345971"></p>
<ul>
<li>盒子的大小也有影响，<strong>更大的滤波器会使得图像丧失更多高频信号，即更加模糊</strong></li>
</ul>
<p>这一点可以这么思考</p>
<ul>
<li>如果盒子超过了图像尺寸，那么将会只显示出一个颜色</li>
<li>如果盒子等于一个像素的大小，那么相当于没有做任何处理</li>
</ul>
<h6 id="时域-Spatial-Domain与频域-Frequency-Domain上的采样"><a href="#时域-Spatial-Domain与频域-Frequency-Domain上的采样" class="headerlink" title="时域 Spatial Domain与频域 Frequency Domain上的采样"></a>时域 Spatial Domain与频域 Frequency Domain上的采样</h6><p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220330221911118.png" alt="image-20220330221911118"></p>
<p>图中左侧为时域，右侧为频域，对应关系为</p>
<ul>
<li>左侧经过傅里叶变换可得到右侧</li>
<li>左侧区域的采样（a）乘上（c）冲激函数得到结果（e）,与此对应的频域操作则为卷积，即右侧的操作过程</li>
<li>表现结果为（f）不断在冲激函数上重复的频谱</li>
</ul>
<p>我们不需要过多理解这些内容，这里我们只要知道<strong>在频域上的采样效果：在冲激函数上不断重复的频谱</strong></p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220331170738583.png" alt="image-20220331170738583"></p>
<p>如图所示，上图是一种在频域的临界采样情况，<strong>若采样时采样间隔变大，则导致采样频率降低，不同的频谱会堆叠在一起</strong>，即图中的Aliasing，这里便发生了<strong>走样</strong></p>
<h5 id="反走样Antialiasing"><a href="#反走样Antialiasing" class="headerlink" title="反走样Antialiasing"></a>反走样Antialiasing</h5><p>走样发生的原因可总结为<strong>采样的速率慢于被采样对象的变化频率</strong>，在图形成像上的反走样由此可选择路线为</p>
<ul>
<li>增大采样速率<ul>
<li>增加屏幕分辨率</li>
</ul>
</li>
<li>降低被采样对象变化频率<ul>
<li><strong>采样前</strong>过滤掉高频信号</li>
</ul>
</li>
</ul>
<p>前者不必多说，即像素点的增加会减小空间上的采样间隔，对于后者而言如图所示</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220331183833935.png" alt="image-20220331183833935"></p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220331185101874.png" alt="image-20220331185101874"></p>
<p>非常值得注意的一点是：<strong>在采样前进行低通滤波处理</strong>，否则不会得到理想的效果</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220331185345747.png" alt="image-20220331185345747"></p>
<p>[^两种情况]: 左侧为Blurred Aliasing，右侧为Antialiasing</p>
<p>原因很好理解，因为对已经发生alias的频谱再使用低通滤波处理，得到的频谱仍有可能是存在alias的，所以模糊掉的只是已经存在的锯齿</p>
<p>对于Pre-Filter的选择多种多样，在此以一个像素大小的Box Filter为例</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220331191532805.png" alt="image-20220331191532805"></p>
<p>如图所示，在这一个像素大小的区域中，将根据图形覆盖的面积决定颜色的分布量，不再是最开始的采样结果中的01分布，而是具有过渡的状态</p>
<p>以MSAA为例，将每个像素点的采样点从中心变为N×N的形势，对覆盖点的数量进行颜色插值</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220331191909666.png" alt="image-20220331191909666"></p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220331191928769.png" alt="image-20220331191928769"></p>
<p>虽然图示的采样点仅仅是被简单的划分出来，但在实际应用中会有多种划分方式</p>
<p>反走样，或者在这里更多指的是抗锯齿，的方法有许多种，更多的思路不在此一一解释</p>
<h4 id="深度缓冲-Z-Buffer"><a href="#深度缓冲-Z-Buffer" class="headerlink" title="深度缓冲 Z-Buffer"></a>深度缓冲 Z-Buffer</h4><p>目前为止我们所接触的都是单个图形的光栅化过程，当场景中存在多个物体该如何判断它们的前后关系呢</p>
<p>非常朴素的做法是根据物体的前后关系进行绘制顺序排列，即靠后的物体先绘制，靠前的物体后绘制，这种方法被称为<strong>画家算法</strong></p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220331202436285.png" alt="image-20220331202436285"></p>
<p>其中的问题不言而喻，对于上图这种部分遮挡又部分被遮挡的情况，该算法无法完成绘制</p>
<p><strong>但我们可以把画家算法的思路从物体转移到像素，或者说是采样点上去，这就是Z-Buffer</strong></p>
<ul>
<li>Z-Buffer算法需要为每个像素点维持一个深度数组记为zbuffer，其每个位置初始值置为无穷大（即离摄像机无穷远）。</li>
<li>随后我们遍历每个三角形面上的每一个像素点[x,y]，如果该像素点的深度值z，小于zbuffer[x,y]中的值，则更新zbuffer[x,y]值为该点深度值z，并同时更新该像素点[x,y]的颜色为该三角形面上的该点的颜色。</li>
</ul>
<p><strong>在接下来的内容中，为了便于理解z将被一直取正值，即值越大意味着离我们的距离越远，虽然在之前z一直是一个负数</strong></p>
<p>至此我们可以得到正确的遮挡关系了，在渲染时，会额外多一张反应z值的深度图</p>
<ul>
<li>frame buffer存储颜色信息</li>
<li>depth buffer（z-buffer）存储深度信息</li>
</ul>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220331203156092.png" alt="image-20220331203156092"></p>
<p>关于Z-Buffer算法的更多解释如下</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220331203351837.png" alt="image-20220331203351837"></p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220331203408085.png" alt="image-20220331203408085"></p>
<p>这个算法的时间复杂度是$O(n)$，因为它仅仅是找出了深度值最小的三角面，并没有进行排序，我们无须担心这一点的计算量很大，你可以相信你的GPU受过特殊训练</p>
<h4 id="作业内容-2"><a href="#作业内容-2" class="headerlink" title="作业内容"></a>作业内容</h4><h5 id="任务目标-2"><a href="#任务目标-2" class="headerlink" title="任务目标"></a>任务目标</h5><p>在上次作业中，虽然我们在屏幕上画出一个线框三角形，但这看起来并不是那么的有趣。所以这一次我们继续推进一步——在屏幕上画出一个实心三角形，换言之，栅格化一个三角形。</p>
<p>上一次作业中，在视口变化之后，我们调用了函数<code>rasterize_wireframe(const Triangle&amp; t)</code>。但这一次，你需要自己填写并调用函数 <code>rasterize_triangle(const Triangle&amp; t)</code>。</p>
<p>该函数的内部工作流程如下：</p>
<ul>
<li><p>创建三角形的 2 维 bounding box。</p>
</li>
<li><p>遍历此 bounding box 内的所有像素（使用其整数索引）。然后，使用像素中心的屏幕空间坐标来检查中心点是否在三角形内。</p>
</li>
<li><p>如果在内部，则将其位置处的插值深度值 (interpolated depth value) 与深度缓冲区 (depth buffer) 中的相应值进行比较。</p>
</li>
<li><p>如果当前点更靠近相机，请设置像素颜色并更新深度缓冲区 (depth buffer)。你需要修改的函数如下：</p>
<ul>
<li><code>rasterize_triangle(...)</code>: 执行三角形栅格化算法</li>
<li><code>static bool insideTriangle(...)</code>: 测试点是否在三角形内</li>
</ul>
</li>
<li><p>你可以修改此函数的定义，这意味着，你可以按照自己的方式更新返回类型或函数参数。因为我们只知道三角形三个顶点处的深度值，所以对于三角形内部的像素，我们需要用插值的方法得到其深度值。我们已经为你处理好了这一部分，因为有关这方面的内容尚未在课程中涉及。插值的深度值被储存在变量 z_interpolated中。请注意我们是如何初始化 depth buffer 和注意 z values 的符号。为了方便同学们写代码，我们将 z 进行了反转，保证都是正数，并且越大表示离视点越远。在此次作业中，你无需处理旋转变换，只需为模型变换返回一个单位矩阵。最后，我们提供了两个 hard-coded 三角形来测试你的实现，如果程序实现正确，你将看到如下所示的输出图像:</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220331211337931.png" alt="image-20220331211337931"></p>
<p><strong>需要注意的是该作业框架中没有补充透视投影变换矩阵函数内容和模型变换矩阵函数内容，这里仅仅需要补充前者</strong></p>
<p><strong>提高内容</strong>：</p>
<p>用 super-sampling 处理 Anti-aliasing :</p>
<p>你可能会注意到，当我们放大图像时，图像边缘会有锯齿感。我们可以用 super-sampling来解决这个问题，即对每个像素进行 2 * 2 采样，并比较前后的结果 (这里并不需要考虑像素与像素间的样本复用)。需要注意的点有，对于像素内的每一个样本都需要维护它自己的深度值，即每一个像素都需要维护一个 sample list。最后，如果你实现正确的话，你得到的三角形不应该有不正常的黑边。</p>
</li>
</ul>
<h5 id="代码解释-2"><a href="#代码解释-2" class="headerlink" title="代码解释"></a>代码解释</h5><p><strong>使用以下代码并不会得到与作业图完全相同的结果，因为这次的框架内容并没有让z保持正值</strong></p>
<p>若想得到相同的结果，请在将摄像机以Z轴旋转180°</p>
<p>判断在三角形内部的采样点</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">static</span> <span class="type">bool</span> <span class="title">insideTriangle</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y, <span class="type">const</span> Vector3f* _v)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// TODO : Implement this function to check if the point (x, y) is inside the triangle represented by _v[0], _v[1], _v[2]</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//测试点的坐标为(x, y)</span></span><br><span class="line">    <span class="comment">//三角形三点的坐标分别为_v[0], _v[1], _v[2]</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//叉乘公式为(x1, y1)X(x2, y2) = x1*y2 - y1*x2</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//（1）准备三角形各边的的向量</span></span><br><span class="line">    Eigen::Vector2f side1;</span><br><span class="line">    side1 &lt;&lt; _v[<span class="number">1</span>].<span class="built_in">x</span>() - _v[<span class="number">0</span>].<span class="built_in">x</span>(), _v[<span class="number">1</span>].<span class="built_in">y</span>() - _v[<span class="number">0</span>].<span class="built_in">y</span>();</span><br><span class="line">    Eigen::Vector2f side2;</span><br><span class="line">    side2 &lt;&lt; _v[<span class="number">2</span>].<span class="built_in">x</span>() - _v[<span class="number">1</span>].<span class="built_in">x</span>(), _v[<span class="number">2</span>].<span class="built_in">y</span>() - _v[<span class="number">1</span>].<span class="built_in">y</span>();</span><br><span class="line">    Eigen::Vector2f side3;</span><br><span class="line">    side3 &lt;&lt; _v[<span class="number">0</span>].<span class="built_in">x</span>() - _v[<span class="number">2</span>].<span class="built_in">x</span>(), _v[<span class="number">0</span>].<span class="built_in">y</span>() - _v[<span class="number">2</span>].<span class="built_in">y</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//（2）准备测量点和三角形各点连线的向量</span></span><br><span class="line">    Eigen::Vector2f v1;</span><br><span class="line">    v1 &lt;&lt; x - _v[<span class="number">0</span>].<span class="built_in">x</span>(), y - _v[<span class="number">0</span>].<span class="built_in">y</span>();</span><br><span class="line">    Eigen::Vector2f v2;</span><br><span class="line">    v2 &lt;&lt; x - _v[<span class="number">1</span>].<span class="built_in">x</span>(), y - _v[<span class="number">1</span>].<span class="built_in">y</span>();</span><br><span class="line">    Eigen::Vector2f v3;</span><br><span class="line">    v3 &lt;&lt; x - _v[<span class="number">2</span>].<span class="built_in">x</span>(), y - _v[<span class="number">2</span>].<span class="built_in">y</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//（3）三角形各边的的向量叉乘测量点和三角形各点连线的向量</span></span><br><span class="line">    <span class="type">float</span> z1 = side1.<span class="built_in">x</span>() * v1.<span class="built_in">y</span>() - side1.<span class="built_in">y</span>() * v1.<span class="built_in">x</span>();</span><br><span class="line">    <span class="type">float</span> z2 = side2.<span class="built_in">x</span>() * v2.<span class="built_in">y</span>() - side2.<span class="built_in">y</span>() * v2.<span class="built_in">x</span>();</span><br><span class="line">    <span class="type">float</span> z3 = side3.<span class="built_in">x</span>() * v3.<span class="built_in">y</span>() - side3.<span class="built_in">y</span>() * v3.<span class="built_in">x</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//（4）判断叉乘结果是否有相同的符号</span></span><br><span class="line">    <span class="keyword">if</span> ((z1 &gt; <span class="number">0</span> &amp;&amp; z2 &gt; <span class="number">0</span> &amp;&amp; z3 &gt; <span class="number">0</span>) || (z1 &lt; <span class="number">0</span> &amp;&amp; z2 &lt; <span class="number">0</span> &amp;&amp; z3 &lt; <span class="number">0</span>))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>或者是另一种简化版本</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">static</span> <span class="type">bool</span> <span class="title">insideTriangle</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y, <span class="type">const</span> Vector3f* _v, <span class="type">int</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">Vector2f <span class="title">point</span><span class="params">(x, y)</span></span>;</span><br><span class="line">    <span class="comment">//A-0 B-1 C-2</span></span><br><span class="line">    <span class="comment">//_v中存储的是三角形的三个顶点的三维坐标，使用.head取其x与y进行判断即可</span></span><br><span class="line">    Vector2f AB = _v[<span class="number">1</span>].<span class="built_in">head</span>(<span class="number">2</span>) - _v[<span class="number">0</span>].<span class="built_in">head</span>(<span class="number">2</span>);</span><br><span class="line">    Vector2f BC = _v[<span class="number">2</span>].<span class="built_in">head</span>(<span class="number">2</span>) - _v[<span class="number">1</span>].<span class="built_in">head</span>(<span class="number">2</span>);</span><br><span class="line">    Vector2f CA = _v[<span class="number">0</span>].<span class="built_in">head</span>(<span class="number">2</span>) - _v[<span class="number">2</span>].<span class="built_in">head</span>(<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">    Vector2f AP = point - _v[<span class="number">0</span>].<span class="built_in">head</span>(<span class="number">2</span>);</span><br><span class="line">    Vector2f BP = point - _v[<span class="number">1</span>].<span class="built_in">head</span>(<span class="number">2</span>);</span><br><span class="line">    Vector2f CP = point - _v[<span class="number">2</span>].<span class="built_in">head</span>(<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> AB[<span class="number">0</span>] * AP[<span class="number">1</span>] - AB[<span class="number">1</span>] * AP[<span class="number">0</span>] &gt; <span class="number">0</span></span><br><span class="line">        &amp;&amp; BC[<span class="number">0</span>] * BP[<span class="number">1</span>] - BC[<span class="number">1</span>] * BP[<span class="number">0</span>] &gt; <span class="number">0</span></span><br><span class="line">        &amp;&amp; CA[<span class="number">0</span>] * CP[<span class="number">1</span>] - CA[<span class="number">1</span>] * CP[<span class="number">0</span>] &gt; <span class="number">0</span></span><br><span class="line">        ||</span><br><span class="line">        AB[<span class="number">0</span>] * AP[<span class="number">1</span>] - AB[<span class="number">1</span>] * AP[<span class="number">0</span>] &lt; <span class="number">0</span></span><br><span class="line">        &amp;&amp; BC[<span class="number">0</span>] * BP[<span class="number">1</span>] - BC[<span class="number">1</span>] * BP[<span class="number">0</span>] &lt; <span class="number">0</span></span><br><span class="line">        &amp;&amp; CA[<span class="number">0</span>] * CP[<span class="number">1</span>] - CA[<span class="number">1</span>] * CP[<span class="number">0</span>] &lt; <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>三角形的光栅化</p>
<p><strong>框架注释中给出的深度插值的部分，需要使用c++17标准</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> rst::rasterizer::<span class="built_in">rasterize_triangle</span>(<span class="type">const</span> Triangle&amp; t) </span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//执行三角形栅格化算法</span></span><br><span class="line">    <span class="keyword">auto</span> v = t.<span class="built_in">toVector4</span>();</span><br><span class="line">    <span class="comment">//f12进入toVector4()处后可以发现返回值是array&lt;Vector4f, 3&gt;</span></span><br><span class="line">    <span class="comment">//我的理解：v是一个包含三个顶点信息的数组，每个顶点坐标用Vector4f（齐次坐标）表示</span></span><br><span class="line">    <span class="comment">// TODO : Find out the bounding box of current triangle.</span></span><br><span class="line">    <span class="comment">// iterate through the pixel and find if the current pixel is inside the triangle</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//（1）用矩形将三角形包围起来,找到矩形的四个顶点，构建三角形包围盒</span></span><br><span class="line">    <span class="type">float</span> min_x = std::<span class="built_in">floor</span>(std::<span class="built_in">min</span>(v[<span class="number">0</span>].<span class="built_in">x</span>(), std::<span class="built_in">min</span>(v[<span class="number">1</span>].<span class="built_in">x</span>(), v[<span class="number">2</span>].<span class="built_in">x</span>())));</span><br><span class="line">    <span class="type">float</span> max_x = std::<span class="built_in">ceil</span>(std::<span class="built_in">max</span>(v[<span class="number">0</span>].<span class="built_in">x</span>(), std::<span class="built_in">max</span>(v[<span class="number">1</span>].<span class="built_in">x</span>(), v[<span class="number">2</span>].<span class="built_in">x</span>())));</span><br><span class="line">    <span class="type">float</span> min_y = std::<span class="built_in">floor</span>(std::<span class="built_in">min</span>(v[<span class="number">0</span>].<span class="built_in">y</span>(), std::<span class="built_in">min</span>(v[<span class="number">1</span>].<span class="built_in">y</span>(), v[<span class="number">2</span>].<span class="built_in">y</span>())));</span><br><span class="line">    <span class="type">float</span> max_y = std::<span class="built_in">ceil</span>(std::<span class="built_in">max</span>(v[<span class="number">0</span>].<span class="built_in">y</span>(), std::<span class="built_in">max</span>(v[<span class="number">1</span>].<span class="built_in">y</span>(), v[<span class="number">2</span>].<span class="built_in">y</span>())));</span><br><span class="line"></span><br><span class="line">    <span class="comment">//（2）遍历三角形包围盒中的所有测试点</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> x = min_x; x &lt;= max_x; x++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> y = min_y; y &lt;= max_y; y++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// If so, use the following code to get the interpolated z value.</span></span><br><span class="line">            <span class="comment">//auto[alpha, beta, gamma] = computeBarycentric2D(x, y, t.v);</span></span><br><span class="line">            <span class="comment">//float w_reciprocal = 1.0/(alpha / v[0].w() + beta / v[1].w() + gamma / v[2].w());</span></span><br><span class="line">            <span class="comment">//float z_interpolated = alpha * v[0].z() / v[0].w() + beta * v[1].z() / v[1].w() + gamma * v[2].z() / v[2].w();</span></span><br><span class="line">            <span class="comment">//z_interpolated *= w_reciprocal;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// TODO : set the current pixel (use the set_pixel function) to the color of the triangle (use getColor function) if it should be painted.</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//判断是否在三角形内,如果在内部，则将其位置处的插值深度值 (interpolated depth value) 与深度缓冲区 (depth buffer) 中的相应值进行比较。</span></span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">insideTriangle</span>(x, y, t.v))</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">//以下是计算插值的内容，暂时看不懂,先抄别人博客补全</span></span><br><span class="line">                <span class="comment">//最小深度，默认是无穷远</span></span><br><span class="line">                <span class="type">float</span> min_depth = FLT_MAX;</span><br><span class="line"></span><br><span class="line">                <span class="comment">//如果在三角形内部，计算当前深度,得到当前最小深度</span></span><br><span class="line">                <span class="keyword">auto</span> tup = <span class="built_in">computeBarycentric2D</span>(x + <span class="number">0.5</span>, y + <span class="number">0.5</span>, t.v);</span><br><span class="line"></span><br><span class="line">                <span class="type">float</span> alpha, beta, gamma;</span><br><span class="line">                std::<span class="built_in">tie</span>(alpha, beta, gamma) = tup;</span><br><span class="line">                <span class="type">float</span> w_reciprocal = <span class="number">1.0</span> / (alpha / v[<span class="number">0</span>].<span class="built_in">w</span>() + beta / v[<span class="number">1</span>].<span class="built_in">w</span>() + gamma / v[<span class="number">2</span>].<span class="built_in">w</span>());</span><br><span class="line">                <span class="type">float</span> z_interpolated = alpha * v[<span class="number">0</span>].<span class="built_in">z</span>() / v[<span class="number">0</span>].<span class="built_in">w</span>() + beta * v[<span class="number">1</span>].<span class="built_in">z</span>() / v[<span class="number">1</span>].<span class="built_in">w</span>() + gamma * v[<span class="number">2</span>].<span class="built_in">z</span>() / v[<span class="number">2</span>].<span class="built_in">w</span>();</span><br><span class="line">                z_interpolated *= w_reciprocal;</span><br><span class="line">                min_depth = std::<span class="built_in">min</span>(min_depth, z_interpolated);</span><br><span class="line"></span><br><span class="line">                <span class="comment">//如果x,y所在点的深度小于z-buffer的深度，</span></span><br><span class="line">                <span class="keyword">if</span> (depth_buf[<span class="built_in">get_index</span>(x, y)] &gt; min_depth)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="comment">//获得最上层应该渲染的颜色</span></span><br><span class="line">                    Vector3f color = t.<span class="built_in">getColor</span>();</span><br><span class="line">                    Vector3f point;</span><br><span class="line">                    point &lt;&lt; x, y, min_depth;</span><br><span class="line">                    <span class="comment">//更新深度</span></span><br><span class="line">                    depth_buf[<span class="built_in">get_index</span>(x, y)] = min_depth;</span><br><span class="line">                    <span class="comment">//更新所在点的颜色</span></span><br><span class="line">                    <span class="built_in">set_pixel</span>(point, color);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>提高部分</p>
<p>在上个函数（1）后加入以下部分</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//MSAA 2*2</span></span><br><span class="line">std::vector&lt;Vector2f&gt; multSample</span><br><span class="line">&#123;</span><br><span class="line">    &#123; <span class="number">0.25</span>, <span class="number">0.75</span> &#125;,</span><br><span class="line">    &#123; <span class="number">0.75</span>, <span class="number">0.75</span> &#125;,</span><br><span class="line">    &#123; <span class="number">0.25</span>, <span class="number">0.25</span> &#125;,</span><br><span class="line">    &#123; <span class="number">0.75</span>, <span class="number">0.25</span> &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"> <span class="type">int</span> count = <span class="number">0</span>;</span><br><span class="line"> <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)</span><br><span class="line"> &#123;</span><br><span class="line">     <span class="keyword">if</span> (<span class="built_in">insideTriangle</span>(x + multSample[i].<span class="built_in">x</span>(), y + multSample[i].<span class="built_in">y</span>(), t.v))</span><br><span class="line">     &#123;</span><br><span class="line">     	count++;</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p>并将原有的<code>if (insideTriangle(x, y, t.v))</code>改为<code>if (count)</code></p>
<p>将颜色信息从<code>Vector3f color = t.getColor()</code>修改为<code>Vector3f color = t.getColor() * (count / 4.0)</code></p>
<h3 id="着色"><a href="#着色" class="headerlink" title="着色"></a>着色</h3><p>本节内容附加资料：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/144331875">计算机图形学六：透视矫正插值和图形渲染管线总结 - 知乎 (zhihu.com)</a></li>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/162190576">计算机图形学补充2：齐次空间裁剪(Homogeneous Space Clipping) - 知乎 (zhihu.com)</a></li>
<li><a target="_blank" rel="noopener" href="https://www.csdn.net/tags/MtjaUg1sOTM5MzQtYmxvZwO0O0OO0O0O.html">Shader入门精要</a></li>
<li><a target="_blank" rel="noopener" href="https://www.freesion.com/article/28411191986/">图像插值-双三次插值（bicubic） - 灰信网（软件开发博客聚合） (freesion.com)</a></li>
</ul>
<h4 id="着色的定义"><a href="#着色的定义" class="headerlink" title="着色的定义"></a>着色的定义</h4><p><strong>着色（shading）</strong>：</p>
<p>对实例通过使用线或颜色块进行明暗或颜色的变化</p>
<p><strong>在此次课程中可理解为对不同物体使用不同材质（material）的过程</strong></p>
<p><strong>材质：</strong></p>
<p>材质在渲染程式中，它是表面各可视属性的结合，这些可视属性是指表面的色彩、纹理、光滑度、透明度、反射率、折射率、发光度等。正是有了这些属性，才能让我们识别三维中的模型是什么做成的，也正是有了模型材质。</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220408220414052.png" alt="image-20220408220414052"></p>
<p>本文所要介绍的是局部光照模型，并不是真正准确的模型，但是优点是计算快，效果可以接受，至今依然广泛的运用在各种游戏之中</p>
<p><strong>于是着色将发生在局部，即每一个shading point</strong></p>
<p>接下来就将定义更多着色的内容</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220408222953010.png" alt="image-20220408222953010"></p>
<p>由于使用的是局部光照模型，<strong>将每一个着色点作为起点定义向量</strong></p>
<p><strong>另一点需要注意的是，着色中不会有阴影被渲染</strong></p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220408224040510-16494288420381.png" alt="image-20220408224040510"></p>
<h4 id="基本着色模型-Blinn-Phong-Reflectance-Model"><a href="#基本着色模型-Blinn-Phong-Reflectance-Model" class="headerlink" title="基本着色模型 Blinn-Phong Reflectance Model"></a>基本着色模型 Blinn-Phong Reflectance Model</h4><p>之所以物体能被我们观察，是因为人眼接收到了从物体来的光。 没错，这其实也就是局部光照模型的基础，可以具体看看究竟有几种类型光线能从物体到人眼呢</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/v2-75d2bbbc2338013fa85ba87b54d0753b_720w.jpg" alt="img"></p>
<p>图中三种类型的光分别为：</p>
<ul>
<li>Specular highlights：镜面高光</li>
<li>Diffuse reflection：漫反射</li>
<li>Ambient lighting：环境光</li>
</ul>
<p>接下来将具体讲解这三种类型的光</p>
<h5 id="漫反射-Diffuse-Lambert-Reflection"><a href="#漫反射-Diffuse-Lambert-Reflection" class="headerlink" title="漫反射 Diffuse/Lambert Reflection"></a>漫反射 Diffuse/Lambert Reflection</h5><p>漫反射，是投射在粗糙表面上的光向各个方向反射的现象。当一束平行的入射光线射到粗糙的表面时，表面会把光线向着四面八方反射，所以入射线虽然互相平行，由于各点的法线方向不一致，造成反射光线向不同的方向无规则地反射，这种反射称之为“漫反射”或“漫射”。</p>
<p>简而言之如图所示</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/v2-f9d6487d26325965ac807035cbe9eb9d_720w.jpg" alt="img"></p>
<p>与现实世界中的漫反射些许不同，这里做出了一些简化</p>
<ul>
<li>光线会被均匀地朝各个方向反射</li>
<li>在任一点观测到的表面颜色一致</li>
</ul>
<p>于是漫反射在着色点的情况都被定义出了，即颜色与亮度，颜色是物体的属性，那么亮度如何计算出呢</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/v2-f9b56bf3a1820ef8a6b6297092a956cf_720w.jpg" alt="img"></p>
<p>类似于投影一样，使用光照方向与着色点的法线方向计算出夹角，<strong>即两向量点乘结果</strong>，求出光被着色点实际接收的量</p>
<p>常识中离光源近的物体会比离得远的物体更亮，于是现在另一点需要知道的是，光在空间中传播是如何衰减的</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/v2-e8049585b53b1b1ab71fe5a7067ffe09_720w.jpg" alt="img"></p>
<p>图中中心为一个点光源，光线均匀的向周围发射，假定能量守恒，那么在任意两个垂直于光线的圆面上接受到的能量之和一定相等。而离圆心越远，圆的面积越大，单位面积所接受能量也就越弱</p>
<p><strong>因此将光强$I$关于距离$r$满足平方反比定律</strong></p>
<p>由此漫反射可定义为</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/v2-679183b3783819c14b6916ce890f7d9e_720w.jpg" alt="img"></p>
<p>图中内容为</p>
<ul>
<li>$L_d$：漫反射，等式右边为点乘</li>
<li>$k_d$：漫反射系数（颜色）</li>
<li>$I/r^2$：到达着色点的能量</li>
<li>$max(0,n·l)$：着色点实际接收的能量，<strong>限定于正值防止光线从背面照进被计算的情况</strong></li>
</ul>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220408233514763.png" alt="image-20220408233514763"></p>
<p><strong>值得注意的是漫反射公式中并没有用到观测方向$v$，附加上颜色一致，因此在任意位置观察到达漫反射效果均一致</strong></p>
<h5 id="镜面高光-Specular-Highlights"><a href="#镜面高光-Specular-Highlights" class="headerlink" title="镜面高光 Specular Highlights"></a>镜面高光 Specular Highlights</h5><p>如同字面意思一般，像是镜子反射一样的亮光指光源照射到物体然后反射到人的眼睛里时，物体上最亮的那个点就是高光。高光不是光，而是物体上最亮的部分</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/v2-15a8b2c0a6e065e190603fdf63602d70_720w-16495066745994.jpg" alt="img"></p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/v2-15a8b2c0a6e065e190603fdf63602d70_720w.jpg" alt="img"></p>
<p>不难分析得出，当观测方向与光源方向关于法线的夹角接近或相等时，这一着色点会产生高光</p>
<p><strong>或者说，是观测方向与光源方向的中线接近于法线</strong></p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220409201944430.png" alt="image-20220409201944430"></p>
<p>图中内容为</p>
<ul>
<li>$h$：半程向量，注意这里需要归一化</li>
<li>$L_s$：镜面高光，等式右边为点乘</li>
<li>$k_s$：高光系数，颜色，通常是白色</li>
<li>$max(0,n·h)^p$：两者点乘即是$cos α$的值，关于$p$次幂的问题，如下图所示</li>
</ul>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/v2-23a1bcca580d90b36364a2c806a76447_720w.jpg" alt="img"></p>
<p>通常情况下仅在很小的范围会产生高光，但普通的$cos α$函数阈值很大，需要叠加多次幂增加高光衰减度</p>
<p>具体情况如图所示</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220409212641921.png" alt="image-20220409212641921"></p>
<h5 id="环境光-Ambient-Lighting"><a href="#环境光-Ambient-Lighting" class="headerlink" title="环境光 Ambient Lighting"></a>环境光 Ambient Lighting</h5><p>除去直接被物体接受到的光，还有很多光是经过其他物体的多次反射而最终到达物体的光，我们需要真的计算那么多次吗</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220409204906458.png" alt="image-20220409204906458"></p>
<p>Blion-Phong Model作为一种经验模型，给出了经验的效果，$La$仅仅由一个系数$k_a$和一个亮度$I_a$简单点乘得到</p>
<h5 id="叠加效果"><a href="#叠加效果" class="headerlink" title="叠加效果"></a><strong>叠加效果</strong></h5><p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/v2-4592bb9c2faa811358c0de63516538ae_720w.jpg" alt="img"></p>
<h4 id="着色频率-Shading-Frequencies"><a href="#着色频率-Shading-Frequencies" class="headerlink" title="着色频率 Shading Frequencies"></a>着色频率 Shading Frequencies</h4><p>在上文中我们讲解完了局部光照模型，其中主要利用了观察方向，入射光线与法线向量的位置关系，但并没有具体说究竟是三角形面的法线向量还是三角形顶点的法线向量，这也就牵扯出了本章内容——着色频率</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220409212752867.png" alt="image-20220409212752867"></p>
<p>着色频率（面着色，顶点着色，像素着色），这3种不同的着色频率其实也就对应了三种不同方法</p>
<h5 id="面着色-Flat-Shading"><a href="#面着色-Flat-Shading" class="headerlink" title="面着色 Flat Shading"></a>面着色 Flat Shading</h5><p>面着色，顾名思义以每一个面作为一个着色单位。模型数据大多以很多个三角面进行存储，因此也就记录了每个面的法线向量，利用每个面的法线向量进行一次Blinn-Phong反射光照模型的计算，将该颜色赋予整个面</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220409221250646.png" alt="image-20220409221250646"></p>
<p>Flat Shading 虽然计算很快，只需对每一个面进行一次着色计算，但是效果确是很差的，可以很明显的看到一块块面形状</p>
<h5 id="顶点着色-Gouraud-Shading"><a href="#顶点着色-Gouraud-Shading" class="headerlink" title="顶点着色 Gouraud Shading"></a>顶点着色 Gouraud Shading</h5><p>Gouraud Shading会对每个三角形的顶点进行一次着色</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220409221454183.png" alt="image-20220409221454183"></p>
<p>可我们只有每个面的法线向量，如何得到每个顶点的法线向量呢</p>
<p>做法其实很简单，将所有共享这个点的面的法线向量加起来求均值，最后再归一化就得到了该顶点的法线向量了</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220409221625472.png" alt="image-20220409221625472"></p>
<p>有了每个三角形的顶点向量之后，自然就可以计算出每个顶点的颜色了，那么对于三角形内部的每一个点应该怎么办呢</p>
<p>如果你还记得之前提到过的插值，你就可以理解下面的公式了</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/v2-ffc668d22944aad1bcacf433fdb6006b_720w.png" alt="img"></p>
<p>其中$c$为插值出的点的颜色，$c_0, c_1, c_2$为三角形三个顶点的颜色，$α, β, γ$为三角形面内的<strong>重心坐标</strong></p>
<p><strong>重心坐标将会在下一节讲授</strong></p>
<p>由此还可以利用重心坐标插值出更多属性，例如法线</p>
<h5 id="像素着色-Phong-Shading"><a href="#像素着色-Phong-Shading" class="headerlink" title="像素着色 Phong Shading"></a>像素着色 Phong Shading</h5><p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220409223125946.png" alt="image-20220409223125946"></p>
<p>既然要对每个点都进行光照计算，那么自然我们应该要有每个点的法线向量才可以，Phong Shading的做法是利用重心坐标插值出三角形面内任一点的法线向量</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/v2-fc80f9816fcd5062fab423ce9c522c61_720w-164951450202610.png" alt="img"></p>
<p>与颜色的公式类似，$n$代表法线，<strong>对于方向请记得要归一化</strong></p>
<h5 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h5><p>着色频率是应用着色模型的基础量，从三角形面、三角形面顶点再到三角形面内每一个点，性能的开销是可想而知的，那么效果一定就会好吗</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/v2-66ea893097bc286279d81b5a9de8a5dd_720w.jpg" alt="img"></p>
<p>对于低模来说，是这样的</p>
<p>但随着模型面数的增加，三种频率的效果反而会趋于相近</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/v2-09bff39c471a14ef7dc0bdf7875ced6b_720w.jpg" alt="img"></p>
<p>但性能开销却不会趋于相近</p>
<p><strong>合适的，比更好的更好</strong></p>
<h4 id="重心坐标-Barycentric-Coordinates"><a href="#重心坐标-Barycentric-Coordinates" class="headerlink" title="重心坐标 Barycentric Coordinates"></a>重心坐标 Barycentric Coordinates</h4><p>在上一章的作业中有这样的一行代码，作为注释中的附加代码，用于插值求出深度值，这就是应用了重心坐标</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">auto</span>[alpha, beta, gamma] = <span class="built_in">computeBarycentric2D</span>(x, y, t.v);</span><br></pre></td></tr></table></figure>

<h5 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h5><p>由上行代码可知，重心坐标具有三个参数，并且需要三角形的三个顶点和一个目标点求出，事实上确实如此</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220410164534423.png" alt="image-20220410164534423"></p>
<p><strong>重心坐标的三个参数是可以出现负值的，但只有三个值都是非负项点才会在三角形内</strong></p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220410164708469.png" alt="image-20220410164708469"></p>
<h5 id="计算"><a href="#计算" class="headerlink" title="计算"></a>计算</h5><p>可是三个参数都是怎么来的呢</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220410164921208.png" alt="image-20220410164921208"></p>
<p>$\alpha,\beta,\gamma$分别对应这个点靠近三角形$A,B,C$的程度，由此可用分割出的三角形面积占比求出</p>
<p>使用行列式的几何意义算出各个三角形的面积，<strong>均为列向量</strong></p>
<ul>
<li>$$A_A= \begin{vmatrix}<pre><code>       BC,BP
      \end&#123;vmatrix&#125;$$
</code></pre>
</li>
<li>$$A_B= \begin{vmatrix}<pre><code>       AP,AC
      \end&#123;vmatrix&#125;$$
</code></pre>
</li>
<li>$$A_C= \begin{vmatrix}<pre><code>       AB,AP
      \end&#123;vmatrix&#125;$$
</code></pre>
</li>
</ul>
<p>具体计算方式如图所示</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220414093916042.png" alt="image-20220414093916042"></p>
<h5 id="应用"><a href="#应用" class="headerlink" title="应用"></a>应用</h5><p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220414094341247.png" alt="image-20220414094341247"></p>
<p>重心坐标在图形学中最重要的运用便是插值，他可以根据三个顶点A,B,C的属性插值出任意点的属性，无论是位置，颜色，深度，法线向量等等，而这些属性在之后的着色或是消除隐藏曲面都有很大的作用</p>
<p>如果你仔细阅读了上图，最后一行加粗的字意为</p>
<p><strong>重心坐标在投影变换后并不会保持不变</strong></p>
<h5 id="透视矫正插值"><a href="#透视矫正插值" class="headerlink" title="透视矫正插值"></a>透视矫正插值</h5><p><strong>此处内容搬运自本节参考内容，可跳过推理过程直接记住结论，且作业框架中并没有进行校正</strong></p>
<p>正如上文中所提到的，我们的重心坐标往往都是在屏幕空间下所得到的，如果直接使用屏幕空间下的重心坐标进行插值会造成一定的误差，与在view space下是不一样的</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/v2-a84f9a4ee21dbc176605d96975efe508_720w.jpg" alt="img"></p>
<p>这个问题可由图解释出，在屏幕空间image plane上点c的intensity为0.5，但在实际的AB上这点的intensity并不为0.5，那么本节内容就会具体介绍如何矫正这种误差，利用屏幕空间下的重心坐标达到正确的插值</p>
<p>首先先分别定义屏幕空间的比例为s，view space中为t，其余符号含义如下图所示：</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/v2-c3d76850d6966bf4f9b4f45da3a8f5e6_720w.jpg" alt="img"></p>
<p>为了简便证明，将点的坐标用2维表示，第一维为图中所示的x轴，第二维为z轴。 简而言之，<strong>我们的目标就是得出t与s的关系式</strong>，这样就可以正确的利用屏幕空间的系数s插值到正确的view space的结果</p>
<p>由上图所示的投影所造成的三角形相似性可以轻易得出如下几个式子：</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220414104228949.png" alt="image-20220414104228949"></p>
<p>同样，分别利用screen space 以及 view space的线性插值可以得到以下几个式子：</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220414104248431.png" alt="image-20220414104248431"></p>
<p>将4式与5式代入3式得：</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220414104301900.png" alt="image-20220414104301900"></p>
<p>再将1式与2式代入7式得：</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220414104322896.png" alt="image-20220414104322896"></p>
<p>最后将6式代入8式的左边得到：</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220414104341406.png" alt="image-20220414104341406"></p>
<p>仔细观察9式，我们已经成功得出了t与s的一个关系式，其中的其它参数都是已知，因此进一步化简不在这里展开，可以得到如下t与s关系：</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220414104404672.png" alt="image-20220414104404672"></p>
<p>如此就可以利用屏幕空间下的系数得到正确插值结果了，计算如下：</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220414104418408.png" alt="image-20220414104418408"></p>
<p>以上证明虽然只是针对线性插值的矫正结果，对于重心坐标插值，我们可以类似类推得出：</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220414104434830.png" alt="image-20220414104434830"></p>
<p>正确得出深度的插值结果之后，再看看任意属性(法线向量，纹理坐标，view space 坐标)插值结果，依然以线性插值为例先进行推导：<strong>用$I$代表任意属性</strong></p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220414104502120.png" alt="image-20220414104502120"></p>
<p>不难看出插值的分母就是深度值的倒数，类推得出重心坐标任意属性的正确插值如下:</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220414104517442.png" alt="image-20220414104517442"></p>
<p><strong>任意属性自然包括深度值，将深度值z代入16式可以得出与12式一样的结果</strong></p>
<p>至此，我们就可以利用16式进行所有的属性的重心坐标插值，并且保证结果正确了！</p>
<h4 id="图形渲染管线-Graphics-Real-time-Rendering-Pipeline"><a href="#图形渲染管线-Graphics-Real-time-Rendering-Pipeline" class="headerlink" title="图形渲染管线 Graphics (Real-time Rendering) Pipeline"></a>图形渲染管线 Graphics (Real-time Rendering) Pipeline</h4><p>所谓图形渲染管线指的是一系列操作的流程，这个流程具体来说就是将一堆具有三维几何信息的数据点最终转换到二维屏幕空间的像素</p>
<p>整个图形管线的步骤可能有不同的分法，不一定就是上图所述的5部分，但整体流程一定是一样的</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220414110049471.png" alt="image-20220414110049471"></p>
<h5 id="顶点处理-Vertex-Processing"><a href="#顶点处理-Vertex-Processing" class="headerlink" title="顶点处理 Vertex Processing"></a>顶点处理 Vertex Processing</h5><p>顶点处理的作用是指对所有的顶点数据进行Model，View，和Projection的变换，最终得到投影到二维平面的坐标信息(同时为了Z-buffer保留深度z值)</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220414111452671.png" alt="image-20220414111452671"></p>
<p><strong>顶点信息如果超出观察空间会被剪裁掉，具体内容请在本节参考资料中查看</strong></p>
<h5 id="三角面处理-Triangle-Processing"><a href="#三角面处理-Triangle-Processing" class="headerlink" title="三角面处理 Triangle Processing"></a>三角面处理 Triangle Processing</h5><p>将所有的顶点按照原几何信息，变成三角面，每个面由3个顶点组成</p>
<h5 id="光栅化-Rasterization"><a href="#光栅化-Rasterization" class="headerlink" title="光栅化 Rasterization"></a>光栅化 Rasterization</h5><p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220414111906202.png" alt="image-20220414111906202"></p>
<p>在得到了需要显示的图形后，这里将确定出像素需要显示多少，例如像素Pixel或者片元Fragment，像素即图中的小方格，而片元则是采样点，片元可比像素更小，例如在之前MSAA 2*2的代码中，我们将一个像素分配出了四个片元</p>
<h5 id="片元着色-Fragment-Processing"><a href="#片元着色-Fragment-Processing" class="headerlink" title="片元着色 Fragment Processing"></a>片元着色 Fragment Processing</h5><p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220416213402319.png" alt="image-20220416213402319"></p>
<p>使用深度测试来判断哪些像素点应该被显示出来</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220416213420791.png" alt="image-20220416213420791"></p>
<p>片元着色，给物体赋予材质</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220416213432052.png" alt="image-20220416213432052"></p>
<p>上个图片使用的是Blinn-Phong模型，其中的$k_d$属性可由一张图片提供，这部分将接下来介绍</p>
<h5 id="帧缓存操作-Framebuffer-Operations"><a href="#帧缓存操作-Framebuffer-Operations" class="headerlink" title="帧缓存操作 Framebuffer Operations"></a>帧缓存操作 Framebuffer Operations</h5><p>最后一步Framebuffer的处理，就是将所有的像素颜色信息整合在一起，输送给显示设备加以显示</p>
<h4 id="Shader编写简介"><a href="#Shader编写简介" class="headerlink" title="Shader编写简介"></a>Shader编写简介</h4><p>此处并未涉及过多内容</p>
<p>对于shader而言只需要给出单个顶点或者片元的操作即可，无需使用循环</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220416214704349.png" alt="image-20220416214704349"></p>
<p>另附一个shader在线书写的网站</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220416214716021.png" alt="image-20220416214716021"></p>
<h4 id="纹理映射-Texture-Mapping"><a href="#纹理映射-Texture-Mapping" class="headerlink" title="纹理映射 Texture Mapping"></a>纹理映射 Texture Mapping</h4><h5 id="纹理坐标与纹理应用"><a href="#纹理坐标与纹理应用" class="headerlink" title="纹理坐标与纹理应用"></a>纹理坐标与纹理应用</h5><p>在之前的小节中，我们在表示漫反射系数时使用的是一个三维向量来描述颜色，但是在实际情况中颜色的情况会复杂的多，情况如图中所示</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220417162814857.png" alt="image-20220417162814857"></p>
<p>无论是地板的木纹或者是球体的图案，单纯使用向量来描述颜色将会变得非常困难，这里需要引入<strong>纹理</strong>的概念</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220417162842978.png" alt="image-20220417162842978"></p>
<p>三维的物体其表面会是二维的，如图中的地球仪所示，使用两个系数就可以将三维物体的表面一点与二维平面的一点联系起来</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220417163333813.png" alt="image-20220417163333813"></p>
<p>在纹理坐标中，使用两个介于0到1的系数，$u$和$v$来定位纹理的位置，如图中红绿颜色的变化可以看出位置变化情况</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220417163704806.png" alt="image-20220417163704806"></p>
<p>建立联系后，每个三角形会从纹理图中获取颜色</p>
<p><strong>建立联系的过程不在此次课程讨论之内，通常由模型制作者完成</strong></p>
<p>有些情况下物体表面只是特定的纹理而已，没有过多的细节，例如砖墙或者木纹，这时可以使用一张纹理图就完成整个物体的映射</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220417164503329.png" alt="image-20220417164503329"></p>
<p>例如上面的这个场景，使用的纹理图只是一张，这一点可以在下面的纹理坐标中得到验证</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220417164705549.png" alt="image-20220417164705549"></p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220417164755690.png" alt="image-20220417164755690"></p>
<p>这样的贴图可不是随便就能用的，其必须满足<strong>四方连续</strong>，即对应的边界相接可以无缝拼接</p>
<p>在上面提到的纹理映射中，获取的都是漫反射系数，操作过程如下图所示</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220417165217030.png" alt="image-20220417165217030"></p>
<p><strong>纹理除了漫反射系数外，还可以提供更多的信息</strong>，例如法线、置换、凹凸、AO、光泽度等等</p>
<p><strong>理想状态下的纹理中每一个像素点都将被一比一地对应到物体中</strong>，但如果这个平衡被打破了呢</p>
<h5 id="纹理过小"><a href="#纹理过小" class="headerlink" title="纹理过小"></a>纹理过小</h5><p>这种情况十分常见，例如你从网上下了一张图片设为了桌面背景，却发现模糊不堪，可能它只是一张54×54的缩略图，你却放到了1920×1080的桌面上</p>
<p><strong>纹理过小就会导致纹理空间的一点被过多的屏幕空间点采样到</strong></p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/v2-2463a18c2e63529619a3b61fb9e8be23_720w.jpg" alt="img"></p>
<p>如图所示，红点是屏幕空间下一个像素对应在图片中的位置，在上述的极端情况下，一个纹理中的颜色点可能会被多个像素对应到，产生的情况就如图打了马赛克一样</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220417171422877.png" alt="image-20220417171422877"></p>
<p>如图中的Nearest所示，如果放任像素采样到最近的贴图中，就会出现这种情况</p>
<p>而后面的Bilinear 双线性和Bicubic 双立方则是接下来要提到的优化方案</p>
<h6 id="双线性插值-Bilinear-Interpolation"><a href="#双线性插值-Bilinear-Interpolation" class="headerlink" title="双线性插值 Bilinear Interpolation"></a>双线性插值 Bilinear Interpolation</h6><p>这里又提到了插值，之前在MSAA处使用的思想在这里又一次使用上了</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220417172233706.png" alt="image-20220417172233706"></p>
<p>选取从屏幕空间对应来的点四个最近的在纹理空间中的点</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220417172508475.png" alt="image-20220417172508475"></p>
<p>$Linear;interpolation;(1D):$在$lerp(…)$中的三个参数分别为距离$v0$的比利，即图中的$t$和$s$，起点与终点</p>
<p>通过一次线性插值获取到水平方向的插值$u_1$和$u_0$，之后再使用这两个值作为起点与终点进行第二次线性插值</p>
<p>通过使用两次线性插值获取到这一点的颜色，即双线性插值</p>
<p><strong>关于双立方插值请参考资料</strong></p>
<h5 id="纹理过大"><a href="#纹理过大" class="headerlink" title="纹理过大"></a>纹理过大</h5><p>纹理过大会比纹理过小更难解决</p>
<p>这个问题可以这样思考：在天上的星星看起来只有一个亮点，但实际上它们的表面或许是不规则的坑坑洼洼的，因为它的许多信息都汇聚成了一个点后才被我们看到</p>
<p><strong>而纹理过大就会导致屏幕空间的一点包含了过多的在纹理空间中的信息</strong></p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220417194738870.png" alt="image-20220417194738870"></p>
<p>在图中从左到右表示了之前举的例子的情况，最左侧的蓝色点代表了屏幕空间的像素，黑色点代表纹理空间的像素，淡蓝色的区域为该屏幕空间像素点对应到纹理空间的范围，从最开始的几乎一对一，到一对多，有许多细节在此过程中丢失</p>
<p>这种现象被形象的成为屏幕像素在texture空间的footprint</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220417195022614.png" alt="image-20220417195022614"></p>
<p>具体情况如图所示，在远处的一点可能对应到了超过一整个纹理的大小，从而产生了走样</p>
<p>是否可以使用抗锯齿来反走样呢？</p>
<p>可以但代价高昂</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220417195203404.png" alt="image-20220417195203404"></p>
<p>与纹理过小相反的是，在纹理过大的情况下，我们不能单纯地把屏幕空间的一点对应到纹理空间后，选取最近的一点作为该屏幕空间点的颜色，我们需要用这一点代表它所覆盖的一整个范围的颜色</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220417195747206.png" alt="image-20220417195747206"></p>
<p><strong>我们需要的是范围查询</strong></p>
<h6 id="Mipmap"><a href="#Mipmap" class="headerlink" title="Mipmap"></a>Mipmap</h6><p>这是一项提供<strong>正方范围查询的，快速的，近似的</strong>技术</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220417200313392.png" alt="image-20220417200313392"></p>
<p>mipmap就像是把答案写好后来进行范围查询，它提供了多个层级的纹理，层<strong>级越高表示范围越大</strong>，这会增加三分之一的空间占用</p>
<p>现在将说明如何确定该使用哪一层级的纹理来返回给屏幕空间的像素点</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220417200937838.png" alt="image-20220417200937838"></p>
<p>选取这一点的周围点，并在纹理坐标中标记处来，图中为上方和右方的点</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220417201327199.png" alt="image-20220417201327199"></p>
<p>在纹理空间中分别求出这一点距离两个相邻点的距离，选取其中的最大值作为$L$，再算出$D$的值，即是mipmap的层数，关于为什么要$D=log_2L$的问题，因为mipmap每层的长宽都是上一层的一半</p>
<h6 id="三线性插值-Trilinear-Interpolation"><a href="#三线性插值-Trilinear-Interpolation" class="headerlink" title="三线性插值 Trilinear Interpolation"></a>三线性插值 Trilinear Interpolation</h6><p>$D$在实际情况中完全可能有出现小数的情况，但mipmap的层数都是整数，如果单纯地以四舍五入来近似求解的话，会出现突变的效果</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220417201704721.png" alt="image-20220417201704721"></p>
<p>图为mipmap层级的可视化结果，可以看到许多的突变效果</p>
<p>如何解决这一问题呢，依旧是插值</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220417201913151.png" alt="image-20220417201913151"></p>
<p>例如算出的$D=1.4$，那么就在$D=1$和$D=2$的mipmap中进行双线性插值，之后再将这两个结果再使用一次线性插值</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220417202102273.png" alt="image-20220417202102273"></p>
<p>得到的结果就好多了</p>
<h6 id="各向异性过滤-Anisotropic-Filtering"><a href="#各向异性过滤-Anisotropic-Filtering" class="headerlink" title="各向异性过滤 Anisotropic Filtering"></a>各向异性过滤 Anisotropic Filtering</h6><p>以512x的超采样结果作为标准</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220417211832069.png" alt="image-20220417211832069"></p>
<p>那么mipmap可以做到什么情况呢</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220417211908264.png" alt="image-20220417211908264"></p>
<p>远处的情况被过分模糊了，还记得最开头提到的吗</p>
<p>mipmap是一项提供<strong>正方范围查询的，快速的，近似的</strong>技术</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220417212053942.png" alt="image-20220417212053942"></p>
<p>而对于非正方的情况mipmap处理本来就十分乏力，且插值的方法本就是近似，注定无法得到真实情况</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220417212147158.png" alt="image-20220417212147158"></p>
<p>但我们可以做的更好</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220417212207111.png" alt="image-20220417212207111"></p>
<p>与mipmap不同的是，各向异性过滤可以对非正方情况有更好的效果，mipmap即图中斜对角线的情况，而在这里会产生更多的被称为ripmap的层级，它所占用的大小将会是原来的三倍，且从图中可以看出，其代价不是简单的正相关关系，意味着16x的会比8x的占用大小不是简单的二倍关系，如果可以请拉满</p>
<p>但各向异性过滤仅仅能对长方的情况做出更好的优化，对于斜放的图形，依然没有更好的办法</p>
<p>更好的办法如下图便是其中一种</p>
<p><img src="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.assets/image-20220417212609176.png" alt="image-20220417212609176"></p>
<h2 id="几何表示"><a href="#几何表示" class="headerlink" title="几何表示"></a>几何表示</h2><h2 id="光的传播理论"><a href="#光的传播理论" class="headerlink" title="光的传播理论"></a>光的传播理论</h2><h2 id="动画与模拟"><a href="#动画与模拟" class="headerlink" title="动画与模拟"></a>动画与模拟</h2>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/" data-id="cl2rgvb110000cktzfzstgjrs" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2022/05/04/hello-world/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Hello World</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">May 2022</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/05/04/%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/">(no title)</a>
          </li>
        
          <li>
            <a href="/2022/05/04/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2022 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>